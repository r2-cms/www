/*!
 * jCube 2002 - 2012
 * jCube.org
 * License:		GPL-LICENSE
 * To compile, after a fully navigation in your project, type in the console:
	window.location = 'http://10.0.1.95/gt8/www/tools/jCube-compile/?filename=jCube.min&files='+ window.localStorage['jCube.Include'].split(',').join(',').substring(1);
	//i`m working on this :D
*/
var jCube=(function($,$$){var jCube=function(obj,selector){if(typeof obj=="string"){if(obj.substring(0,1)==":"){selector=obj;obj=document.body}else{obj=document.getElementById(obj)}}else{if(typeof obj=="function"){jCube.Window.DOMEvents.push(obj)}}if(!obj){return null}if(obj==window){if(jCube.Element.methods.addEvent){window.addEvent=jCube.Element.methods.addEvent}if(jCube.Element.methods.removeEvent){window.removeEvent=jCube.Element.methods.removeEvent}return obj}if(!obj.jCubeReady&&typeof obj=="object"){jCube.Object.merge(obj,jCube.Element.methods);obj.jCubeReady=true}if(selector){if(!jCube.Element.getElementsBySelector&&jCube.Debug.showWarnings){}else{return jCube.Element.getElementsBySelector(obj,selector)}}return obj};jCube.Object={merge:function(obj,OBJ){if(!OBJ){OBJ=obj;obj=this}for(var i in OBJ){if(!Object.prototype[i]){obj[i]=OBJ[i]}}return obj}};jCube.Object.merge.call(jCube,{config:{alterNativePrototype:true,selectorAlwaysReturnArray:false,loadAsync:true,noCache:null,theme:"default",trackIncludedFiles:true},Date:{en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],names:["Day","Days","Week","Weeks","Month","Months","Year","Years"]},pt:{months:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],weekdays:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],names:["Dia","Dias","Semana","Semanas","M&ecirc;s","Meses","Ano","Anos"]}},International:{language:"pt",dateLongFormat:"%Y, %M %e - %W %T",dateMediumFormat:"%Y, %b %e - %T",dateShortFormat:"%Y/%b/%e - %T",thousandSeparator:".",decimalSeparator:",",decimalWidth:2,currencySimbol:"R$",charset:"UTF-8"},Debug:{displayErrors:true,showWarnings:true,alertOnDuplicates:false},Array:{remove:Array.prototype.remove},Color:{},Document:{},Event:{},Element:{SMP:{},methods:{},pMethods:{},Implements:function(props){var fxName=props.name,allowTags=props.allow,disallowTags=props.disallow,method=props.method;if(method){jCube.Element.methods[fxName]=method}jCube.Element.pMethods[fxName]=function(){allowTags=allowTags||"*";disallowTags=disallowTags||["window"];for(var i=0,crr,allow,j=0,len=this.length,len2=disallowTags.length,len3=allowTags.length;i<len;i++){if(allowTags!="*"&&typeof allowTags!="object"){throw new Error('"allowTags" must be an Array')}allow=allowTags=="*"?true:false;for(j=0;j<len2;j++){if(this[i].nodeName.toUpperCase()==disallowTags[j].toUpperCase()){allow=false;break}}if(!allow){for(j=0;j<len3;j++){if(this[i].nodeName.toUpperCase()==allowTags[j].toUpperCase()){allow=true;break}}}if(allow&&(crr=this[i][fxName].apply(this[i],arguments))){}}return this};return method},SetMethods:function(fxName){jCube.Element.pMethods[fxName]=function(){var objs=[];for(var i=0,crr,len=this.length;i<len;i++){if((crr=this[i][fxName].apply(this[i],arguments))){objs[objs.length]=crr}}return this}}},Function:{},UI:{},Math:{},Number:{},Pluggins:{},Server:{},String:{},Time:{},Transition:{},Util:{},Window:{DOMEvents:[]},Import:function(url,charset){charset=charset||jCube.International.charset;if(url.substring(url.length-4,url.length).toLowerCase()==".css"){document.write('<link rel="stylesheet" charset="'+charset+'" type="text/css" href="'+url+'" />')}else{document.write('<script type="text/Javascript" src="'+url+'" charset="'+charset+'" ><\/script>')}},root:(function(){for(var i=0,crr,oScripts=document.getElementsByTagName("SCRIPT");i<oScripts.length;i++){crr=oScripts[i].src.toLowerCase();if(crr.substring(crr.length-8)=="jcube.js"||crr.substring(crr.length-12)=="jcube.min.js"||crr.substring(crr.length-15)=="jcube.single.js"){var filePos=0;if(crr.substring(crr.length-8)=="jcube.js"){filePos=8}else{if(crr.substring(crr.length-12)=="jcube.min.js"){filePos=12}else{if(crr.substring(crr.length-15)=="jcube.single.js"){filePos=15}}}crr=oScripts[i].src.substring(0,crr.length-filePos);if(document.location.protocol=="https:"){crr=crr.replace(/^http:/,"https:")}return crr}}return""})(),Include:(function(jCube){return jCube.Object.merge.call((function(url,charset,async,onLoad){var options={};if(typeof url=="object"){options=url;url=options.url}else{if(typeof charset=="object"){options=charset;options.url=url}}charset=options.charset;async=options.async;onLoad=options.onLoad;charset=charset||jCube.International.charset;if(jCube.Include.compiled&&url.substring(url.length-4).toLowerCase()!=".css"){jCube.Include.files[url]={type:"js"};return }var parsedURL=jCube.Include.ParseUrl(url),sURL=parsedURL[0],jsURL=parsedURL[1],cssURL=parsedURL[2],nocache=(jsURL&&jCube.config.noCache?(jsURL.indexOf("?")>-1?"&":"?")+jCube.config.noCache:"");if(!jCube.Include.files[url]){var includeThis=url!="Util.CreateSingleFile";var OBJ={};if(jsURL){if(jCube.config.trackIncludedFiles&&window.localStorage){var storage=(window.localStorage["jCube.Include"]||"").split(",");var found=-1;for(var i=0;i<storage.length;i++){if(storage[i]==url){found=i;break}}if(found==-1){storage.push(url);window.localStorage["jCube.Include"]=storage.sort(function(a,b){if(a<b){return -1}else{if(b<a){return 1}}return 0}).join(",");storage=i=found=null}}if(jCube.Include.callback){jsURL=jCube.Include.callback(jsURL)}if(async===false||(async==null&&(async==false||this.config.loadAsync==false))){document.write('<script charset="'+charset+'" type="text/javascript" id="'+url+'" src="'+jsURL+(nocache)+'" ><\/script>')}else{var eScript=document.createElement("SCRIPT");eScript.setAttribute("type","text/javascript");eScript.type="text/javascript";eScript.src=jsURL+nocache;eScript.charset=charset;eScript.id=url;eScript.duration=new Date().getTime();eScript.onreadystatechange=eScript.onload=function(){var loaded=false;for(var i=0;i<jCube.Include.asyncFiles.length;i++){if(jCube.Include.asyncFiles[i]==this&&(!this.readyState||this.readyState=="complete"||this.readyState=="loaded")){jCube.Include.asyncFiles.splice(i,1);loaded=true;break}}if(loaded){if(onLoad){onLoad.call(this,this)}if(jCube.Include.onLoad){jCube.Include.onLoad.call(this,new Date().getTime()-this.duration)}if(jCube.Include.asyncFiles.length==0){if(jCube.Window.DOMEvents.awaitingFiles&&jCube.Window.DOMReady&&jCube.Window.DOMReady.onDOMReady){jCube.Window.DOMReady.onDOMReady()}}}};eScript.async=true;var eRootScript=document.getElementsByTagName("SCRIPT")[0];eRootScript.parentNode.insertBefore(eScript,eRootScript);OBJ.type="js";OBJ.url=jsURL;jCube.Include.asyncFiles.push(eScript)}}else{if(cssURL){if(async===false||(async==null&&(async==false||this.config.loadAsync==false))){document.write('<link rel="stylesheet" charset="'+charset+'" type="text/css" href="'+cssURL+'" />')}else{var eLink=document.createElement("LINK");eLink.setAttribute("type","text/css");eLink.setAttribute("href",cssURL);eLink.setAttribute("rel","stylesheet");eLink.type="text/css";eLink.href=cssURL;eLink.rel="stylesheet";eLink.id=url;eLink.charset=charset;eLink.async=true;document.getElementsByTagName("HEAD")[0].appendChild(eLink);window.eLink=eLink}OBJ.type="css";OBJ.url=cssURL;includeThis=false}}if(includeThis){jCube.Include.files[url]=OBJ;jCube.Include.count++}}else{if(jCube.Debug.alertOnDuplicates){alert('The following package "'+url+'" has already been loaded!')}}}),{ParseUrl:function(url){var sURL=null,cssURL=null,jsURL=null;if(url.substring(url.length-4,url.length).toLowerCase()==".css"){cssURL=jCube.root+url;sURL=cssURL.toLowerCase()}else{if(url.substring(url.length-3,url.length).toLowerCase()==".js"){jsURL=jCube.root+url;sURL=jsURL.toLowerCase()}else{if(url.indexOf(".*")>-1){var nome=url.substring(0,url.indexOf("."));var files=jCube.Include[nome];for(var f=1;f<files.length;f++){urls.push(nome+"."+files[f])}url=nome+"."+files[0]}if(url.indexOf(".")==-1){url=url+"."+url}else{url=url+url.substring(url.lastIndexOf("."))}jsURL=jCube.root+url.replace(/\./g,"/")+".js";sURL=jsURL.toLowerCase()}}sURL=sURL.replace(/\//g,"_");sURL=sURL.replace(/\./g,"D");return[sURL,jsURL,cssURL,url]},files:{},count:1,asyncFiles:[]})})(jCube)});jCube.load=jCube.Include;(function(){if(window.addEventListener){window.addEventListener("load",function(){jCube.Window.DOMEvents.awaitingFiles=true;if(jCube.Window.DOMReady&&jCube.Window.DOMReady.onDOMReady){jCube.Window.DOMReady.onDOMReady()}},true)}else{window.attachEvent("onload",function(){jCube.Window.DOMEvents.awaitingFiles=true;if(jCube.Window.DOMReady&&jCube.Window.DOMReady.onDOMReady){jCube.Window.DOMReady.onDOMReady()}})}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);jCube.Window.DOMEvents.awaitingFiles=true;if(jCube.Window.DOMReady&&jCube.Window.DOMReady.onDOMReady){jCube.Window.DOMReady.onDOMReady()}},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);jCube.Window.DOMEvents.awaitingFiles=true;if(jCube.Window.DOMReady&&jCube.Window.DOMReady.onDOMReady){jCube.Window.DOMReady.onDOMReady()}}});if(document.documentElement.doScroll&&window==window.top){(function(){if(jCube.Window.DOMReady&&jCube.Window.DOMReady.isDOMReady){return }try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return }jCube.Window.DOMEvents.awaitingFiles=true;if(jCube.Window.DOMReady&&jCube.Window.DOMReady.onDOMReady){jCube.Window.DOMReady.onDOMReady()}})()}}}})();if(jCube.config.alterNativePrototype){Object.prototype.merge=jCube.Object.merge;Array.prototype.isArray=true;String.prototype.isString=true;Number.prototype.isNumber=true;Function.prototype.isFunction=true}window.$=$||function(obj){return jCube(":"+obj)};window.$$=$$||function(obj){return jCube("::"+obj)};return jCube})(window.$,window.$$);jCube.Include.compiled=true;
jCube.Include.files["Array.append"];
jCube.Array.append=Array.prototype.append=function(){for(var i=0,len=arguments.length;i<len;i++){this.push(arguments[i])}return this};jCube.Include.files["Array.contains"];
jCube.Array.contains=Array.prototype.contains=function(obj,index){index=index<0?Math.max(this.length+index,0):0;for(var i=index||0,len=this.length;i<len;i++){if(this[i]===obj){return true}}return false};jCube.Include.files["Array.copy"];
jCube.Array.copy=(function(jCube){if(jCube.config.alterNativePrototype){Array.prototype.copy=function(){return jCube.Array.copy.apply(this,arguments)}}return(function(indexOf){var results=[];for(var i=indexOf||0;i<this.length;i++){results[i]=this[i]}return results})})(jCube);jCube.Include.files["Array.del"];
jCube.Array.del=Array.prototype.del=function(index){this.splice(index,1);return this};jCube.Include.files["Array.each"];
jCube.Array.each=(function(jCube){if(jCube.config.alterNativePrototype){Array.prototype.each=function(){return jCube.Array.each.apply(this,arguments)}}return(function(callback){for(var i=0,len=this.length;i<len;i++){callback.call(this[i],this[i],i,this)}return this})})(jCube);jCube.Include.files["Array.getLast"];
jCube.Array.getLast=Array.prototype.getLast=function(item){return this[this.length-1]};jCube.Include.files["Array.hasDuplicates"];
jCube.Array.hasDuplicates=Array.prototype.hasDuplicates=function(fx){if(!fx){fx=function(a,b){return a==b}}for(var i=0,len=this.length,crr,j;i<len;i++){crr=this[i];for(j=i+1;j<len;j++){if(fx(crr,this[j])){return j;break}}}return 0};jCube.Include.files["Array.map"];
jCube.Array.map=(function(jCube){function map(callback,bind,mutable){if(callback==null){throw new Error("missing argument 0 when calling Array.prototype.map")}else{if(typeof callback!=="function"){throw new Error('"callback" parameter must be a function!')}}var results=[];for(var i=0,len=this.length;i<len;i++){if(i in this){if(mutable){this[i]=callback.call(bind||this[i],this[i],i,this)}else{results[i]=callback.call(bind||this[i],this[i],i,this)}}}if(mutable){return this}return results}if(jCube.config.alterNativePrototype){Array.prototype.map=function(){return jCube.Array.map.apply(this,arguments)}}return map})(jCube);jCube.Include.files["Array.remove"];
jCube.Array.remove=(function(jCube){jCube.Include("Array.copy");if(jCube.config.alterNativePrototype){Array.prototype.remove=function(){return jCube.Array.remove.apply(this,arguments)}}return function(item,mutable){var results=jCube.Array.copy.call(this);for(var i=0,len=results.length;i<len;i++){if(mutable){if(this[i]===item){this.splice(i,1);len--;i--}}else{if(results[i]===item){results.splice(i,1);len--;i--}}}if(mutable){return this}return results}})(jCube);jCube.Include.files["Array.removeDuplicates"];
jCube.Array.removeDuplicates=Array.prototype.removeDuplicates=function(){var copy=[].concat(this),i=0;while((i=copy.hasDuplicates())){copy.del(i)}return copy};jCube.Include("Array.del");jCube.Include("Array.hasDuplicates");jCube.Include.files["Array.shuffle"];
jCube.Array.shuffle=Array.prototype.shuffle=function(){return this.copy().sort(function(a,b){return(Math.round(Math.random())-0.5)})};jCube.Include("Array.copy");jCube.Include.files.Browser;
jCube.Browser=(function(){var dataBrowser=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"msie",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var dataOS=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var versionSearchString,dataBrowser,dataOS;function SearchString(data){for(var i=0,dataString,dataProp;i<data.length;i++){dataString=data[i].string;dataProp=data[i].prop;versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1){return data[i].identity}}else{if(dataProp){return data[i].identity}}}return null}function SearchVersion(dataString){var index=dataString.indexOf(versionSearchString);if(index==-1){return null}return parseFloat(dataString.substring(index+versionSearchString.length+1))}var name=SearchString(dataBrowser)||"An unknown browser";var b=new String(name);b.name=name;b.version=SearchVersion(navigator.userAgent)||SearchVersion(navigator.appVersion)||"an unknown version";b.OS=SearchString(dataOS)||"an unknown OS";b.webkit=/webkit/.test(navigator.userAgent.toLowerCase());b.msie7=b.name.msie&&b.version>=7&&b.version<=8;b.msie6AndBellow=b.msie&&b.version<7;b[b.name.toLowerCase()]=true;b.mozilla=name.toLowerCase()=="firefox";if(b.msie&&!window.XMLHttpRequest){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}return b})();jCube.Include.files["Document.Cookie"];
jCube.Document.Cookie={set:function(name,value,days,path,domain){days=days||"";if(days!=""){var date=new Date();date.setTime(date.getTime()+days*24*60*60*1000);days="; expires="+date.toGMTString()}path=path||"/";if(path!=""){path="; path="+path}if(domain){domain="; domain="+domain}else{domain=""}document.cookie=name+"="+escape(value)+days+path+domain;return value},get:function(name){var value=document.cookie.match("(?:^|;)\\s*"+name+"=([^;]*)");return value?decodeURIComponent(value[1]):null},remove:function(name){var t=new Date();t.setTime(t.getTime()-24*3600*1000);document.cookie=name+"=; expires="+t.toGMTString()}};jCube.Include.files["Document.getHttpVariables"];
jCube.Document.getHttpVariables=function(loc){var vars=[];loc=(loc||window.location)+"";if(loc.contains("?")){var queryString=loc.substring(loc.indexOf("?")+1).split("&");for(var i=0,crr;i<queryString.length;i++){crr=[queryString[i].substringIndex("="),queryString[i].substringIndex("=",-1)];crr.name=crr[0];crr.value=crr[1];vars.push(crr)}}vars.get=function(varName){if(!varName){return loc.substring(loc.indexOf("?")+1)}var value=null;for(var i=0;i<this.length;i++){if(this[i][0]==varName){value=this[i][1];break}}return value};return vars};jCube.Include("String.contains");jCube.Include("String.substringIndex");jCube.Include.files["Element.addClass"];
jCube.Element.addClass=(function(jCube){jCube.Include("Element.removeClass");jCube.Include("String.trim");return jCube.Element.Implements({name:"addClass",method:function(name){this.className=(this.removeClass(name).className+" "+name).trim();return this}})})(jCube);jCube.Include.files["Element.appendTo"];
jCube.Element.appendTo=(function(jCube){return jCube.Element.Implements({name:"appendTo",disallow:["OPTION","TEXTAREA","INPUT"],method:function(eHolder){jCube(eHolder).appendChild(this);return this}})})(jCube);jCube.Include.files["Element.getBorderWidth"];
jCube.Element.getBorderWidth=(function(jCube){jCube.Include("Element.getComputedStyle");jCube.Include("String.toInteger");return jCube.Element.Implements({name:"getBorderWidth",method:function(border){function GetBorder(obj,name){return(obj.getComputedStyle("border-"+name+"-width")+"").toInteger()}if(border){return GetBorder(this,border)}else{return[GetBorder(this,"left"),GetBorder(this,"top"),GetBorder(this,"right"),GetBorder(this,"bottom")]}}})})(jCube);jCube.Include.files["Element.getComputedStyle"];
jCube.Element.getComputedStyle=(function(jCube){jCube.Include("Element.getOpacity");jCube.Include("String.hyphenate");jCube.Include("String.toCamelCase");jCube.Include("String.contains");return jCube.Element.Implements({name:"getComputedStyle",method:function(prop){var value="";if(prop=="opacity"){return this.getOpacity()}else{if(this.currentStyle){value=this.currentStyle[prop]||this.currentStyle[jCube.String.toCamelCase.call(prop)]||""}else{if(document.defaultView&&document.defaultView.getComputedStyle){var propMeth=document.defaultView.getComputedStyle(this,null);if(propMeth&&propMeth.getPropertyValue){value=propMeth.getPropertyValue(prop)||propMeth.getPropertyValue(jCube.String.hyphenate.call(prop))}}}}if(jCube.String.contains.call(prop,"border")){if(jCube.Browser.msie&&jCube.Browser.version<7){value=0}else{value=value.replace("thin",0).replace("medium",0).replace("thick",0)}}return(value||"")}})})(jCube);jCube.Include.files["Element.getData"];
jCube.Element.getData=(function(jCube){var storage=[];return jCube.Element.Implements({name:"getData",method:function(name){var row;if(arguments[1]=="__storage__"&&this==jCube.Element){return storage}for(var i=0,len=storage.length;i<len;i++){if(storage[i][0]==this){row=storage[i][1];break}}if(row){if(name){return row[name]}else{return row}}return null}})})(jCube);jCube.Include.files["Element.getElementsBySelector"];
/*!!!!!!!!!1   Peppy - A lightning fast CSS 3 Compliant selector engine.   http://www.w3.org/TR/css3-selectors/#selectors   version 0.1.2   Author: James Donaghue - james.donaghue@gmail.com   Copyright (c) 2008 James Donaghue (jamesdonaghue.com)   Licenced under the FreeBSD (http://www.freebsd.org/copyright/freebsd-license.html) licence.   Adapted to jCube by Roger Skywalker*/jCube.Element.getElementsBySelector=(function(jCube){var doc=document,isWebKit=/webkit/i.test(navigator.userAgent),cache={},cacheOn=false,persistCache={},_uid=0;var reg={trim:/^\s+|\s+$/g,quickTest:/^[^:\[>+~ ,]+$/,typeSelector:/(^[^\[:]+?)(?:\[|\:|$)/,tag:/^(\w+|\*)/,id:/^(\w*|\*)#/,classRE:/^(\w*|\*)\./,attributeName:/(\w+)(?:[!+~*\^$|=])|\w+/,attributeValue:/(?:[!+~*\^$|=]=*)(.+)(?:\])/,pseudoName:/(\:[^\(]+)/,pseudoArgs:/(?:\()(.+)(?:\))/,nthParts:/([+-]?\d)*(n)([+-]\d+)*/i,combinatorTest:/[+>~ ](?![^\(]+\)|[^\[]+\])/,combinator:/\s*[>~]\s*(?![=])|\s*\+\s*(?![0-9)])|\s+/g,recursive:/:(not|has)\((\w+|\*)?([#.](\w|\d)+)*(\:(\w|-)+(\([^\)]+\))?|\[[^\}]+\])*(\s*,\s*(\w+|\*)?([#.](\w|\d)+)*(\:(\w|-)+(\([^\)]+\))?|\[[^\}]+\])*)*\)/gi};var arrayIt=function(a){if(!!(window.attachEvent&&!window.opera)){return function(a){if(a instanceof Array){return a}for(var i=0,result=[],m;m=a[i++];){result[result.length]=m}return result}}else{return function(a){return Array.prototype.slice.call(a)}}}();function filter(a,tag){var r=[],uids={};if(tag){tag=new RegExp("^"+tag+"$","i")}for(var i=0,ae;ae=a[i++];){ae.uid=ae.uid||_uid++;if(!uids[ae.uid]&&(!tag||ae.nodeName.search(tag)!==-1)){r[r.length]=uids[ae.uid]=ae}}return r}function getAttribute(e,a){if(!e){return null}if(a==="class"||a==="className"){return e.className}if(a==="for"){return e.htmlFor}return e.getAttribute(a)||e[a]}function getByClass(selector,selectorRE,root,includeRoot,cacheKey,tag,flat){var result=[];if(!!flat){return selectorRE.test(root.className)?[root]:[]}if(root.getElementsByClassName){result=arrayIt(root.getElementsByClassName(selector));if(!!includeRoot){if(selectorRE.test(root.className)){result[result.length]=root}}if(tag!="*"){result=filter(result,tag)}cache[cacheKey]=result.slice(0);return result}else{if(doc.getElementsByClassName){result=arrayIt(doc.getElementsByClassName(selector));if(tag!="*"){result=filter(result,tag)}cache[cacheKey]=result.slice(0);return result}}var es=(tag=="*"&&root.all)?root.all:root.getElementsByTagName(tag);if(!!includeRoot){es[es.length]=root}for(var index=0,e;e=es[index++];){if(selectorRE.test(e.className)){result[result.length]=e}}return result}function getById(selector,root,includeRoot,cacheKey,tag,flat){var rs,result=[];if(!!flat){return getAttribute(root,"id")===selector?[root]:[]}if(root.getElementById){rs=root.getElementById(selector)}else{rs=doc.getElementById(selector)}if(rs&&getAttribute(rs,"id")===selector){result[result.length]=rs;cache[cacheKey]=result.slice(0);return result}var es=root.getElementsByTagName(tag);if(!!includeRoot){es[es.length]=root}for(var index=0,e;e=es[index++];){if(getAttribute(e,"id")===selector){result[result.length]=e;break}}return result}function getContextFromSequenceSelector(selector,roots,includeRoot,flat){var context,tag,contextType="",result=[],tResult=[],root,rootCount,rootsLength;reg.id.lastIndex=reg.typeSelector.lastIndex=reg.classRE.lastIndex=0;if(!reg.tag.test(selector)){selector="*"+selector}context=reg.typeSelector.exec(selector)[1];roots=roots instanceof Array?roots.slice(0):[roots];rootsLength=roots.length;rootCount=rootsLength-1;if(reg.id.test(context)){contextType="id";tag=(tag=context.match(/^\w+/))?tag[0]:"*";context=context.replace(reg.id,"")}else{if(reg.classRE.test(context)){contextType="class";tag=(tag=context.match(reg.tag))?tag[0]:"*";context=context.replace(reg.tag,"");contextRE=persistCache[context+"RegExp"]||(persistCache[context+"RegExp"]=new RegExp("(?:^|\\s)"+context.replace(/\./g,"\\s*")+"(?:\\s|$)"));context=context.replace(/\./g," ")}}while(rootCount>-1){root=roots[rootCount--];root.uid=root.uid||_uid++;var cacheKey=selector+root.uid;if(cacheOn&&cache[cacheKey]){result=result.concat(cache[cacheKey]);continue}if(contextType==="id"){tResult=getById(context,root,includeRoot,cacheKey,tag,flat)}else{if(contextType==="class"){tResult=getByClass(context,contextRE,root,includeRoot,cacheKey,tag,flat)}else{tResult=arrayIt(root.getElementsByTagName(context));if(!!includeRoot&&(root.nodeName.toUpperCase()===context.toUpperCase()||context==="*")){tResult[tResult.length]=root}}}result=rootsLength>1?result.concat(tResult):tResult;cache[cacheKey]=result.slice(0)}return result}var peppy={query:function(selectorGroups,root,includeRoot,recursed,flat){var elements=[];if(!recursed){selectorGroups=selectorGroups.replace(reg.trim,"").replace(/(\[)\s+/g,"$1").replace(/\s+(\])/g,"$1").replace(/(\[[^\] ]+)\s+/g,"$1").replace(/\s+([^ \[]+\])/g,"$1").replace(/(\()\s+/g,"$1").replace(/(\+)([^0-9])/g,"$1 $2").replace(/['"]/g,"").replace(/\(\s*even\s*\)/gi,"(2n)").replace(/\(\s*odd\s*\)/gi,"(2n+1)")}if(typeof root==="string"){root=(root=getContextFromSequenceSelector(root,doc)).length>0?root:undefined}root=root||doc;root.uid=root.uid||_uid++;var cacheKey=selectorGroups+root.uid;if(cacheOn&&cache[cacheKey]){return cache[cacheKey]}reg.quickTest.lastIndex=0;if(reg.quickTest.test(selectorGroups)){elements=getContextFromSequenceSelector(selectorGroups,root,includeRoot,flat);return(cache[cacheKey]=elements.slice(0))}var groupsWorker,groups,selector,parts=[],part;groupsWorker=selectorGroups.split(/\s*,\s*/g);groups=groupsWorker.length>1?[""]:groupsWorker;for(var gwi=0,tc=0,gi=0,g;groupsWorker.length>1&&(g=groupsWorker[gwi++])!==undefined;){tc+=(((l=g.match(/\(/g))?l.length:0)-((r=g.match(/\)/g))?r.length:0));groups[gi]=groups[gi]||"";groups[gi]+=(groups[gi]===""?g:","+g);if(tc===0){gi++}}var gCount=0;while((selector=groups[gCount++])!==undefined){reg.quickTest.lastIndex=0;if(reg.quickTest.test(selector)){result=getContextFromSequenceSelector(selector,root,includeRoot,flat);elements=groups.length>1?elements.concat(result):result;continue}reg.combinatorTest.lastIndex=0;if(reg.combinatorTest.test(selector)){var parts,pLength,pCount=0,combinators,cLength,cCount=0,result;parts=selector.split(reg.combinator);pLength=parts.length;combinators=selector.match(reg.combinator)||[""];cLength=combinators.length;while(pCount<pLength){var c,part1,part2;c=combinators[cCount++].replace(reg.trim,"");part1=result||peppy.query(parts[pCount++],root,includeRoot,true,flat);part2=peppy.query(parts[pCount++],c==""||c==">"?part1:root,c==""||c==">",true,flat);result=peppy.queryCombinator(part1,part2,c)}elements=groups.length>1?elements.concat(result):result;result=undefined}else{result=peppy.querySelector(selector,root,includeRoot,flat);elements=groups.length>1?elements.concat(result):result}}if(groups.length>1){elements=filter(elements)}return(cache[cacheKey]=elements.slice(0))},queryCombinator:function(l,r,c){var result=[],uids={},proc={},succ={},fail={},combinatorCheck=peppy.simpleSelector.combinator[c];for(var li=0,le;le=l[li++];){le.uid=le.uid||_uid++;uids[le.uid]=le}for(var ri=0,re;re=r[ri++];){re.uid=re.uid||_uid++;if(!proc[re.uid]&&combinatorCheck(re,uids,fail,succ)){result[result.length]=re}proc[re.uid]=re}return result},querySelector:function(selector,root,includeRoot,flat){var context,passed=[],count,totalCount,e,first=true,localCache={};context=getContextFromSequenceSelector(selector,root,includeRoot,flat);count=context.length;totalCount=count-1;var tests,recursive;if(/:(not|has)/i.test(selector)){recursive=selector.match(reg.recursive);selector=selector.replace(reg.recursive,"")}if(!(tests=selector.match(/:(\w|-)+(\([^\(]+\))*|\[[^\[]+\]/g))){tests=[]}if(recursive){tests=tests.concat(recursive)}var aTest;while((aTest=tests.pop())!==undefined){var pc=persistCache[aTest],testFuncScope,testFunc,testFuncKey,testFuncArgs=[],isTypeTest=false,isCountTest=false;passed=[];if(pc){testFuncKey=pc[0];testFuncScope=pc[1];testFuncArgs=pc.slice(2);testFunc=testFuncScope[testFuncKey]}else{if(!/^:/.test(aTest)){var n=aTest.match(reg.attributeName);var v=aTest.match(reg.attributeValue);testFuncArgs[1]=n[1]||n[0];testFuncArgs[2]=v?v[1]:"";testFuncKey=""+aTest.match(/[~!+*\^$|=]/);testFuncScope=peppy.simpleSelector.attribute;testFunc=testFuncScope[testFuncKey];persistCache[aTest]=[testFuncKey,testFuncScope].concat(testFuncArgs)}else{var pa=aTest.match(reg.pseudoArgs);testFuncArgs[1]=pa?pa[1]:"";testFuncKey=aTest.match(reg.pseudoName)[1];testFuncScope=peppy.simpleSelector.pseudos;if(/nth-(?!.+only)/i.test(aTest)){var a,b,nArg=testFuncArgs[1],nArgPC=persistCache[nArg];if(nArgPC){a=nArgPC[0];b=nArgPC[1]}else{var nParts=nArg.match(reg.nthParts);if(nParts){a=parseInt(nParts[1],10)||0;b=parseInt(nParts[3],10)||0;if(/^\+n|^n/i.test(nArg)){a=1}else{if(/^-n/i.test(nArg)){a=-1}}testFuncArgs[2]=a;testFuncArgs[3]=b;persistCache[nArg]=[a,b]}}}else{if(/^:contains/.test(aTest)){var cArg=testFuncArgs[1];var cArgPC=persistCache[cArg];if(cArgPC){testFuncArgs[1]=cArgPC}else{testFuncArgs[1]=persistCache[cArg]=new RegExp(cArg)}}}testFunc=testFuncScope[testFuncKey];persistCache[aTest]=[testFuncKey,testFuncScope].concat(testFuncArgs)}}isTypeTest=/:(\w|-)+type/i.test(aTest);isCountTest=/^:(nth[^-]|eq|gt|lt|first|last)/i.test(aTest);if(isCountTest){testFuncArgs[3]=totalCount}var cLength=context.length,cCount=cLength-1;while(cCount>-1){e=context[cCount--];if(first){e.peppyCount=cCount+1}var pass=true;testFuncArgs[0]=e;if(isCountTest){testFuncArgs[2]=e.peppyCount}if(!testFunc.apply(testFuncScope,testFuncArgs)){pass=false}if(pass){passed.push(e)}}context=passed;first=false}return passed},simpleSelector:{attribute:{"null":function(e,a,v){return !!getAttribute(e,a)},"=":function(e,a,v){return getAttribute(e,a)==v},"~":function(e,a,v){return getAttribute(e,a).match(new RegExp("\\b"+v+"\\b"))},"^":function(e,a,v){return getAttribute(e,a).indexOf(v)===0},"$":function(e,a,v){var attr=getAttribute(e,a);return attr.lastIndexOf(v)===attr.length-v.length},"*":function(e,a,v){return getAttribute(e,a).indexOf(v)!=-1},"|":function(e,a,v){return getAttribute(e,a).match("^"+v+"-?(("+v+"-)*("+v+"$))*")},"!":function(e,a,v){return getAttribute(e,a)!==v}},pseudos:{":root":function(e){return e===doc.getElementsByTagName("html")[0]?true:false},":nth-child":function(e,n,a,b,t){if(!e.nodeIndex){var node=e.parentNode.firstChild,count=0,last;for(;node;node=node.nextSibling){if(node.nodeType==1){last=node;node.nodeIndex=++count}}last.IsLastNode=true;if(count==1){last.IsOnlyChild=true}}var position=e.nodeIndex;if(n=="first"){return position==1}if(n=="last"){return !!e.IsLastNode}if(n=="only"){return !!e.IsOnlyChild}return(!a&&!b&&position==n)||((a==0?position==b:a>0?position>=b&&(position-b)%a==0:position<=b&&(position+b)%a==0))},":nth-last-child":function(e,n){return this[":nth-child"](e,n,a,b)},":nth-of-type":function(e,n,t){return this[":nth-child"](e,n,a,b,t)},":nth-last-of-type":function(e,n,t){return this[":nth-child"](e,n,a,b,t)},":first-child":function(e){return this[":nth-child"](e,"first")},":last-child":function(e){return this[":nth-child"](e,"last")},":first-of-type":function(e,n,t){return this[":nth-child"](e,"first",null,null,t)},":last-of-type":function(e,n,t){return this[":nth-child"](e,"last",null,null,t)},":only-child":function(e){return this[":nth-child"](e,"only")},":only-of-type":function(e,n,t){return this[":nth-child"](e,"only",null,null,t)},":empty":function(e){for(var node=e.firstChild,count=0;node!==null;node=node.nextSibling){if(node.nodeType===1||node.nodeType===3){return false}}return true},":not":function(e,s){return peppy.query(s,e,true,true,true).length===0},":has":function(e,s){return peppy.query(s,e,true,true,true).length>0},":selected":function(e){return e.selected},":hidden":function(e){return e.type==="hidden"||e.style.display==="none"},":visible":function(e){return e.type!=="hidden"&&e.style.display!=="none"},":input":function(e){return e.nodeName.search(/input|select|textarea|button/i)!==-1},":radio":function(e){return e.type==="radio"},":checkbox":function(e){return e.type==="checkbox"},":text":function(e){return e.type==="text"},":header":function(e){return e.nodeName.search(/h\d/i)!==-1},":enabled":function(e){return !e.disabled&&e.type!=="hidden"},":disabled":function(e){return e.disabled},":checked":function(e){return e.checked},":contains":function(e,s){return s.test((e.textContent||e.innerText||""))},":parent":function(e){return !!e.firstChild},":odd":function(e){return this[":nth-child"](e,"2n+2",2,2)},":even":function(e){return this[":nth-child"](e,"2n+1",2,1)},":nth":function(e,s,i){return s==i},":eq":function(e,s,i){return s==i},":gt":function(e,s,i){return i>s},":lt":function(e,s,i){return i<s},":first":function(e,s,i){return i==0},":last":function(e,s,i,end){return i==end}},combinator:{"":function(r,u,f,s){var rUID=r.uid;while((r=r.parentNode)!==null&&!f[r.uid]){if(!!u[r.uid]||!!s[r.uid]){return(s[rUID]=true)}}return(f[rUID]=false)},">":function(r,u,f,s){return r.parentNode&&u[r.parentNode.uid]},"+":function(r,u,f,s){while((r=r.previousSibling)!==null&&!f[r.uid]){if(r.nodeType===1){return r.uid in u}}return false},"~":function(r,u,f,s){var rUID=r.uid;while((r=r.previousSibling)!==null&&!f[r.uid]){if(!!u[r.uid]||!!s[r.uid]){return(s[rUID]=true)}}return(f[rUID]=false)}}}};if(doc.querySelectorAll){(function(){var oldpeppy=peppy.query;peppy.query=function(sel,context){context=context||doc;if(context===doc){try{return context.querySelectorAll(sel)}catch(e){}}return oldpeppy.apply(oldpeppy,arrayIt(arguments))}})()}else{var aEvent=doc.addEventListener||doc.attachEvent;function clearCache(){cache={}}aEvent("DOMAttrModified",clearCache,false);aEvent("DOMNodeInserted",clearCache,false);aEvent("DOMNodeRemoved",clearCache,false)}jCube.query=function(selector,doc){var isCollection=true;if(selector.substring(0,2)=="::"){selector=selector.substring(2)}else{if(selector.substring(0,1)==":"){isCollection=false;selector=selector.substring(1)}}var objs=peppy.query(selector,doc||document,doc||document);if(isCollection){objs=jCube.Object.merge.call(objs,jCube.Element.pMethods);if(!jCube.config.alterNativePrototype){for(var i in jCube.Array){objs[i]=jCube.Array[i]}}for(var i=0;i<objs.length;i++){jCube(objs[i])}}else{return jCube(objs[0])}return objs};jCube.Element.methods.query=jCube.Element.methods.getElementsBySelector=function(selector){return jCube.Element.getElementsBySelector(this,selector)};jCube.Element.SetMethods("getElementsBySelector");jCube.Element.SetMethods("query");jCube.Element.getElementsBySelector=function(obj,selector){return jCube.query(selector,obj||document)};return jCube.Element.Implements({name:"getElementsBySelector",method:jCube.Element.getElementsBySelector})})(jCube);jCube.Include.files["Element.getFirstChild"];
jCube.Element.getFirstChild=(function(jCube){jCube.Include("Element.getComputedStyle");jCube.Include("Element.getNextSibling");return jCube.Element.Implements({name:"getFirstChild",disallowTags:["OPTION","TEXTAREA","INPUT"],method:function(ignoreHidden){var next=this.firstChild;if(ignoreHidden){while(true){if(next&&next.nodeType!=3&&next.nodeType!=8&&jCube(next).getComputedStyle("display")!="none"&&next.getComputedStyle("visibility")!="hidden"){return next}else{if(next){next=jCube(next).getNextSibling(ignoreHidden)}else{break}}}return null}while(next&&(next.nodeType==3||next.nodeType==8)){next=next.nextSibling}return jCube(next)}})})(jCube);jCube.Include.files["Element.getLastChild"];
jCube.Element.getLastChild=(function(jCube){jCube.Include("Element.getComputedStyle");jCube.Include("Element.getPreviousSibling");return jCube.Element.Implements({name:"getLastChild",disallowTags:["OPTION","TEXTAREA","INPUT"],method:function(ignoreHidden){var next=this.lastChild;if(ignoreHidden){while(true){if(next&&next.nodeType!=3&&next.nodeType!=8&&jCube(next).getComputedStyle("display")!="none"&&next.getComputedStyle("visibility")!="hidden"){return next}else{if(next){next=jCube(next).getPreviousSibling(ignoreHidden)}else{break}}}return null}while(next&&(next.nodeType==3||next.nodeType==8)){next=next.previousSibling}return jCube(next)}})})(jCube);jCube.Include.files["Element.getNextSibling"];
jCube.Element.getNextSibling=(function(jCube){jCube.Include("Element.getComputedStyle");return jCube.Element.Implements({name:"getNextSibling",method:function(ignoreHidden){if(ignoreHidden){var next=this;while((next=next.nextSibling)){if(next.nodeType!=3&&next.nodeType!=8&&jCube(next).getComputedStyle("display")!="none"&&next.getComputedStyle("visibility")!="hidden"){return jCube(next)}}return null}var next=this.nextSibling;while(next&&(next.nodeType==3||next.nodeType==8)){next=next.nextSibling}return jCube(next)}})})(jCube);jCube.Include.files["Element.getNodeIndex"];
jCube.Element.getNodeIndex=(function(jCube){jCube.Include("Element.getPreviousSibling");return jCube.Element.Implements({name:"getNodeIndex",method:function(ignoreHidden){var crr=this;var index=0;while(crr&&(crr=crr.getPreviousSibling(ignoreHidden))){index++}return index}})})(jCube);jCube.Include.files["Element.getOffset"];
jCube.Element.getOffset=(function(jCube){jCube.Include("Element.getComputedStyle");jCube.Include("Element.getBorderWidth");return jCube.Element.Implements({name:"getOffset",method:function(root,returnSizes){root=root||document.body;var safari2=jCube.Browser.safari&&jCube.Browser.version==419,bounds=[],x=0,y=0;var absolute=this.style.position=="absolute";if(this.getBoundingClientRect&&root==document.body){x+=this.getBoundingClientRect().left-(jCube.Browser.msie?2:0);y+=this.getBoundingClientRect().top-(jCube.Browser.msie?2:0)}else{x=this.offsetLeft-window.getScrollLeft();y=this.offsetTop-window.getScrollTop();var parent=this.parentNode;while(parent&&parent!=root){x+=parent.offsetLeft;y+=parent.offsetTop;parent=parent.offsetParent;if(safari2&&!absolute&&parent.style.position=="absolute"){absolute=true}}parent=this;while(parent&&parent!=root){if(jCube.Browser.mozilla&&jCube(parent).getComputedStyle("overflow")!="visible"){x-=jCube(parent).getBorderWidth("left")+jCube(parent).getBorderWidth("right");y-=jCube(parent).getBorderWidth("top")+jCube(parent).getBorderWidth("bottom")}parent=parent.parentNode}if(safari2&&absolute){x-=root.offsetLeft;y-=root.offsetTop}}x=x;y=y;bounds=[x,y,this.offsetWidth+(returnSizes?0:x),this.offsetHeight+(returnSizes?0:y)];bounds.left=bounds[0];bounds.top=bounds[1];bounds.right=bounds[2];bounds.bottom=bounds[3];return bounds}})})(jCube);jCube.Include.files["Element.getOpacity"];
jCube.Element.getOpacity=(function(jCube){jCube.Include("String.toFloat");return jCube.Element.Implements({name:"getOpacity",method:function(){var value=1;if(this.currentStyle){if(!jCube.Browser.msie&&this.currentStyle.opacity!=null){value=this.currentStyle.opacity.toFloat(1)}else{if(this.currentStyle.filter){var matchObj=this.currentStyle.filter.match(/opacity\=(\d+)/i);if(matchObj&&matchObj[1]&&matchObj[1].isString){value=matchObj[1].toFloat(100)/100}matchObj=null}}}else{if(document.defaultView&&document.defaultView.getComputedStyle){var propMeth=document.defaultView.getComputedStyle(this,null);if(propMeth&&propMeth.getPropertyValue){value=propMeth.getPropertyValue("opacity").toFloat(1)}propMeth=null}}return value}})})(jCube);jCube.Include.files["Element.getOption"];
jCube.Element.getOption=(function(jCube){return jCube.Element.Implements({name:"getOption",allow:["SELECT"],method:function(index){index=index==null?this.selectedIndex:index;var opt=jCube(this.options[Math.min(this.options.length,Math.max(0,index))]);if(!opt){if(jCube.Debug.displayErrors){if(window.console&&window.console.log){window.console.log([this,"Error: SELECT.option not found!"])}throw new Error(this+" child option not found!")}}return opt}})})(jCube);jCube.Include.files["Element.getOptionByContent"];
jCube.Element.getOptionByContent=(function(jCube){return jCube.Element.Implements({name:"getOptionByContent",allow:["SELECT"],method:function(html,value,caseSensitive){var option;if(caseSensitive){html=html&&html.toLowerCase?html.toLowerCase():html;value=value&&value.toLowerCase?value.toLowerCase():value}for(var i=0,opts=this.options,crr;i<opts.length;i++){crr=(opts[i].value||opts[i].innerHTML);crr=caseSensitive?crr.toLowerCase():crr;if((html||value)==crr){option=opts[i];break}}return option}})})(jCube);jCube.Include.files["Element.getOptionValue"];
jCube.Element.getOptionValue=(function(jCube){jCube.Include("Element.getOption");return jCube.Element.Implements({name:"getOptionValue",allow:["SELECT"],method:function(){return this.getOption().getAttribute("value")?this.getOption().getAttribute("value"):this.getOption().innerHTML}})})(jCube);jCube.Include.files["Element.getParent"];
jCube.Element.getParent=(function(jCube){jCube.Include("Array.contains");return jCube.Element.Implements({name:"getParent",method:function(selector){if(selector){var obj=this;while((obj=jCube(obj.parentNode))){if(selector.charAt(0)=="."&&obj.className&&obj.className.split(" ").contains(selector.substring(1))){return obj}else{if(selector.charAt(0)=="#"&&(obj.id||"").split(" ").contains(selector.substring(1))){return obj}else{if(/^[a-z]/.test(selector.toLowerCase())&&obj.nodeName&&obj.nodeName.toLowerCase().split(" ").contains(selector.toLowerCase())){return obj}}}}return null}return jCube(this.parentNode)}})})(jCube);jCube.Include.files["Element.getPreviousSibling"];
jCube.Element.getPreviousSibling=(function(jCube){jCube.Include("Element.getComputedStyle");return jCube.Element.Implements({name:"getPreviousSibling",method:function(ignoreHidden){if(ignoreHidden){var next=this;while((next=next.previousSibling)){if(next.nodeType!=3&&next.nodeType!=8&&jCube(next).getComputedStyle("display")!="none"&&next.getComputedStyle("visibility")!="hidden"){return jCube(next)}}return null}var next=this.previousSibling;while(next&&(next.nodeType==3||next.nodeType==8)){next=next.previousSibling}return jCube(next)}})})(jCube);jCube.Include.files["Element.getRealSize"];
jCube.Element.getRealSize=(function(jCube){return jCube.Element.Implements({name:"getRealSize",method:function(){var w=this.offsetWidth,h=this.offsetHeight;var clone=this.cloneNode(true);clone.style.position="absolute";clone.style.left="-10000px";clone.style.top="-10000px";clone.style.width=clone.style.height=clone.width=clone.height="";clone.removeAttribute("width");clone.removeAttribute("height");document.body.appendChild(clone);w=clone.offsetWidth;h=clone.offsetHeight;document.body.removeChild(clone);return[w,h]}})})(jCube);jCube.Include.files["Element.getStyle"];
jCube.Element.getStyle=(function(jCube){jCube.Include("Browser");jCube.Include("Element.getOpacity");jCube.Include("String.toCamelCase");jCube.Include("Window");return jCube.Element.Implements({name:"getStyle",method:function(name){name=name.toCamelCase();var msie=jCube.Browser.msie;switch(name){case"styleFloat":name=(msie?"styleFloat":"cssFloat");break;case"cssFloat":name=(msie?"styleFloat":"cssFloat");break;case"float":name=(msie?"styleFloat":"cssFloat");break;case"bounds":return[this.style.left.toInteger(this.offsetLeft),this.style.top.toInteger(this.offsetTop),this.style.width.toInteger(this.offsetWidth),this.style.height.toInteger(this.offsetHeight)];break;case"opacity":if(this.getOpacity){return this.getOpacity()}return 1;case"scrollLeft":if(obj==document.body||obj==window||obj==document.documentElement){return window.getScrollLeft()}return this.scrollLeft;case"scrollTop":if(obj==document.body||obj==window||obj==document.documentElement){return window.getScrollTop()}return this.scrollTop}return this.style[name]}})})(jCube);jCube.Include.files["Element.hide"];
jCube.Element.hide=(function(jCube){jCube.Include("Event.runOnce");return jCube.Element.Implements({name:"hide",disallow:["BODY","WINDOW","DOCUMENT"],method:function(delay,onComplete){if(arguments.length){if(jCube.Transition&&jCube.Transition.fadeOut){this.runOnce("onFadeOutComplete",function(){this.style.display="none"});return jCube.Transition.fadeOut.apply(this,arguments)}else{if(jCube.Debug.displayErrors){throw new Error("Transition.fadeOut library is missing!")}}}this.style.display="none";return this}})})(jCube);jCube.Include.files["Element.injectAfter"];
jCube.Element.injectAfter=(function(jCube){jCube.Include("Element.getNextSibling");return jCube.Element.Implements({name:"injectAfter",method:function(objRef){jCube(objRef).parentNode.insertBefore(this,jCube(objRef).getNextSibling());return this}})})(jCube);jCube.Include.files["Element.injectBefore"];
jCube.Element.injectBefore=(function(jCube){return jCube.Element.Implements({name:"injectBefore",method:function(objRef){jCube(objRef).parentNode.insertBefore(this,jCube(objRef));return this}})})(jCube);jCube.Include.files["Element.injectChild"];
jCube.Element.injectChild=(function(jCube){return jCube.Element.Implements({name:"injectChild",disallow:["OPTION","TEXTAREA","INPUT"],method:function(eChild){this.appendChild(eChild);return this}})})(jCube);jCube.Include.files["Element.isAncestor"];
jCube.Element.isAncestor=(function(jCube){return jCube.Element.Implements({name:"isAncestor",method:function(descendant){var crr=descendant;while(crr.parentNode){if(crr==this){return true}crr=crr.parentNode}return false}})})(jCube);jCube.Include.files["Element.prependTo"];
jCube.Element.prependTo=(function(jCube){jCube.Include("Element.getFirstChild");return jCube.Element.Implements({name:"prependTo",disallow:["OPTION","TEXTAREA","INPUT"],method:function(eHolder){jCube(eHolder).insertBefore(this,jCube(eHolder).getFirstChild());return this}})})(jCube);jCube.Include.files["Element.remove"];
jCube.Element.remove=(function(jCube){return jCube.Element.Implements({name:"remove",disallow:["window","body","head"],method:function(){if(this.parentNode){this.parentNode.removeChild(this)}return this}})})(jCube);jCube.Include.files["Element.removeClass"];
jCube.Element.removeClass=(function(jCube){jCube.Include("Array.remove");jCube.Include("String.trim");return jCube.Element.Implements({name:"removeClass",method:function(name){this.className=this.className.split(" ").remove(name).join(" ").trim();return this}})})(jCube);jCube.Include.files["Element.setAttr"];
jCube.Element.setAttr=(function(jCube){return jCube.Element.Implements({name:"setAttr",method:function(name,value){this.setAttribute(name,value);return this}})})(jCube);jCube.Include.files["Element.setBackgroundPosition"];
jCube.Element.setBackgroundPosition=(function(jCube){return jCube.Element.Implements({name:"setBackgroundPosition",method:function(x,y){if(x==null){x=this.style.backgroundPosition.split(" ")[0]||0}if(y==null){y=this.style.backgroundPosition.split(" ")[1]||0}if(typeof x=="number"){x=x+"px"}if(typeof y=="number"){y=y+"px"}this.style.backgroundPosition=x+" "+y;return this}})})(jCube);jCube.Include.files["Element.setClass"];
jCube.Element.setClass=(function(jCube){return jCube.Element.Implements({name:"setClass",method:function(value){this.className=value;return this}})})(jCube);jCube.Include.files["Element.setData"];
jCube.Element.setData=(function(jCube){jCube.Include("Element.getData");return jCube.Element.Implements({name:"setData",method:function(name,value){var rows=this.getData();var storage=jCube.Element.getData(null,"__storage__");if(rows){rows[name]=value}else{var OBJ={};OBJ[name]=value;storage.push([this,OBJ])}return this}})})(jCube);jCube.Include.files["Element.setDraggable"];
jCube.Element.setDraggable=(function(jCube){jCube.Include("Array.each");jCube.Include("Browser");jCube.Include("Element.getBorderWidth");jCube.Include("Element.getComputedStyle");jCube.Include("Element.getData");jCube.Include("Element.getParent");jCube.Include("Element.isAncestor");jCube.Include("Element.remove");jCube.Include("Element.setData");jCube.Include("Element.setStyle");jCube.Include("Event.add");jCube.Include("Event.remove");jCube.Include("Event.trigger");jCube.Include("String.toInteger");jCube.Include("Window");var glassPane;var defaultZindex,l,t,oL,oT,px,py,bounds,movedX,movedY,startScreenX,startScreenY;var __defaultMouseUp,__defaultMouseMove;return jCube.Element.Implements({name:"setDraggable",method:function(options){var boundedToParent=false;var boundedToFunction=false;options=jCube.Object.merge.call(this.getData("__draggable")||{},options||{});options.horizontally=options.horizontally==null?true:options.horizontally;options.vertically=options.vertically==null?true:options.vertically;options.scale=options.scale||1;options.bounds=options.bounds||[];options.grid=options.grid||[1,1];options.delay=options.delay||0;options.distance=options.distance==null?1:options.distance;var startPositions=null;var __defaultOnclick=null;if(typeof options.bounds=="string"){switch(options.bounds){case"parent":var borders=this.getParent().getBorderWidth();options.bounds=[0,this.getParent().offsetWidth-this.offsetWidth-borders[0]-borders[2],this.getParent().offsetHeight-this.offsetHeight-borders[1]-borders[3],0];boundedToParent=true;break;case"document":break;case"window":break;default:if(options.bounds==""){options.bounds=[]}else{throw new Error('Invalid bounds option: "'+options.bounds+'"')}break}}else{if(typeof options.bounds=="function"){boundedToFunction=options.bounds}}function BDS(e,px,py){if(options.onBeforeStart||options.onBeforeDragStart){(options.onBeforeStart||options.onBeforeDragStart).call(this,e,px,py)}}function DS(e,px,py){if(options.onStart||options.onDragStart){(options.onStart||options.onDragStart).call(this,e,px,py)}}function D(e,px,py){if(options.onDrag){(options.onDrag).call(this,e,px,py)}}function DC(e,px,py){if(options.onComplete||options.onDragComplete){(options.onComplete||options.onDragComplete).call(this,e,px,py)}}function SD(e){obj=null;End(e)}this.removeEvent("onBeforeDragStart",BDS);this.removeEvent("onDragStart",DS);this.removeEvent("onDrag",D);this.removeEvent("onDragComplete",DC);this.removeEvent("stopDragging",SD);this.addEvent("onBeforeDragStart",BDS);this.addEvent("onDragStart",DS);this.addEvent("onDrag",D);this.addEvent("onDragComplete",DC);this.addEvent("stopDragging",SD);if(!glassPane){glassPane=jCube(document.createElement("DIV")).setStyle({position:"fixed",zIndex:100001,display:"none",MozUserFocus:"none",UserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",background:"white",opacity:0});glassPane.onselectstart=glassPane.ondragstart=glassPane.ondrag=function(){return false}}var obj=this,__obj=this;if(options.handle){options.handle=jCube(options.handle);if(options.handle.nodeName){options.handle=[options.handle]}}if(options.cancel){options.cancel=jCube(options.cancel);if(options.cancel.nodeName){options.cancel=[options.cancel]}}var __dragStarted=false,tstart=0;var PreStart=function(e){if(boundedToParent){var borders=this.getParent().getBorderWidth();options.bounds=[0,this.getParent().offsetWidth-this.offsetWidth-borders[0]-borders[2],this.getParent().offsetHeight-this.offsetHeight-borders[1]-borders[3],0]}if(boundedToFunction){options.bounds=boundedToFunction.call(this,this)}if(options.handle){var isAllowed=false;for(var i=0,len=options.handle.length;i<len;i++){if(options.handle[i].isAncestor(e.obj)){isAllowed=true;break}}if(!isAllowed){return false}}if(options.cancel){var isAllowed=true;for(var i=0,len=options.cancel.length;i<len;i++){if(options.cancel[i].isAncestor(e.obj)){isAllowed=false;break}}if(!isAllowed){return false}}obj=__obj;if(obj){obj.trigger("onBeforeDragStart",0,0,0)}tstart=new Date().getTime();startScreenX=(e||event).screenX;startScreenY=(e||event).screenY;if(obj.getComputedStyle("position")=="absolute"){l=startScreenX-obj.offsetLeft;t=startScreenY-obj.offsetTop;oL=0;oT=0}else{l=startScreenX-(obj.style.left||0).toInteger();t=startScreenY-(obj.style.top||0).toInteger();oL=obj.offsetLeft-(obj.style.left||0).toInteger();oT=obj.offsetTop-(obj.style.top||0).toInteger()}px=0;py=0;movedX=0;movedY=0;__defaultMouseMove=document.onmousemove;__defaultMouseUp=document.onmouseup;document.onmousemove=Move;document.onmouseup=End;if(e&&e.preventDefault){e.preventDefault()}else{if(window.event){window.event.returnValue=false}}if(options.delay){window.setTimeout(function(){if(obj&&!__dragStarted){Move(e)}},options.delay+20)}__defaultOnclick=null;return false};var Move=function(e){e=e||window.event;if(!obj){return false}if(!__dragStarted){if(options.distance&&Math.abs(e.screenX-startScreenX)+3<options.distance){return false}if(options.delay){if(options.delay>(new Date().getTime())-tstart){return false}else{if(Math.abs(e.screenX-startScreenX)>10){return End(e)}}}obj.trigger("dragStart",px,py,movedX,movedY);obj.trigger("onDragStart",px,py,movedX,movedY);if(options.delay){startScreenX=(e||event).screenX;startScreenY=(e||event).screenY;if(obj.getComputedStyle("position")=="absolute"){l=startScreenX-obj.offsetLeft;t=startScreenY-obj.offsetTop;oL=0;oT=0}else{l=startScreenX-(obj.style.left||0).toInteger();t=startScreenY-(obj.style.top||0).toInteger();oL=obj.offsetLeft-(obj.style.left||0).toInteger();oT=obj.offsetTop-(obj.style.top||0).toInteger()}px=0;py=0;movedX=0;movedY=0}__dragStarted=true;if(!__defaultOnclick){__defaultOnclick=obj.onclick;obj.onclick=function(){return false}}defaultZindex=obj.style.zIndex||"";glassPane.setStyle({display:"",visibility:"visible",bounds:[0,0,window.getWidth()-20,window.getHeight()-20],cursor:((obj.getComputedStyle("cursor")+"").indexOf("grab")>-1?"grabbing":obj.getComputedStyle("cursor"))||"default"});obj.style.zIndex=100002;if(e&&e.preventDefault){e.preventDefault()}else{if(window.event){window.event.returnValue=false}}document.body.appendChild(glassPane);return false}if(!obj){return null}if(jCube.Browser.msie){e=event}var posX=e.screenX-l,posY=e.screenY-t,maxT=options.bounds[0],maxR=options.bounds[1],maxB=options.bounds[2];maxL=options.bounds[3],gridX=options.grid[0],gridY=options.grid[1];movedX=e.screenX-startScreenX;movedY=e.screenY-startScreenY;if(options.horizontally){if(maxL!=null){posX=Math.max(maxL,Math.min(posX,maxR))}if(gridX>1){posX=(posX-(posX%gridX)+Math.round((posX%gridX)/gridX)*gridX)}obj.style.left=posX+"px";if(maxL!=null){px=(options.scale/(maxR-maxL))*(obj.offsetLeft-maxL-oL)}else{px=posX}}if(options.vertically){if(maxT!=null){posY=Math.max(maxT,Math.min(posY,maxB))}if(gridY>1){posY=(posY-(posY%gridY)+Math.round((posY%gridY)/gridY)*gridY)}obj.style.top=posY+"px";if(maxT!=null){py=(options.scale/(maxB-maxT))*(obj.offsetTop-maxT-oT)}else{py=posY}}obj.trigger("onDrag",px,py,movedX,movedY);if(!startPositions&&options.revert){startPositions=[posX||obj.offsetLeft,posY||obj.offsetTop]}if(e&&e.preventDefault){e.preventDefault()}else{if(window.event){window.event.returnValue=false}}jCube.Event(e).stop();return false};var End=function(e){if(!__dragStarted&&options.delay){obj=null;jCube.Event(e).stop()}if(obj){obj.setStyle("zIndex",defaultZindex);if(options.revert){if(jCube.Transition.moveTo){obj.moveTo(startPositions[0],startPositions[1])}else{obj.setStyle({left:startPositions[0],top:startPositions[1]})}}jCube.Event(e).stop();obj.trigger("onDragComplete",px,py,movedX,movedY)}document.onmousemove=__defaultMouseMove;document.onmouseup=__defaultMouseUp;glassPane.remove();window.setTimeout(function(){if(obj){obj.onclick=__defaultOnclick||null;obj=null}},20);__dragStarted=false;return false};this.removeEvent("mousedown",PreStart,true);this.addEvent("mousedown",PreStart,true);this.setData("draggable",options);return false}})})(jCube);jCube.Include.files["Element.setFixedMask"];
jCube.Element.setFixedMask=(function(jCube){jCube.Include("Array.each");jCube.Include("Array.map");jCube.Include("Event.add");jCube.Include("Event.remove");jCube.Include("Event.trigger");jCube.Include("String.contains");return jCube.Element.Implements({name:"setFixedMask",method:function(mask,settings){if(this.unmask){this.unmask()}var iPhone=(window.orientation!=undefined);var definitions={"#":"[0-9]","9":"[0-9]",a:"[A-Za-zÃ¡Ã©Ã­Ã³ÃºÃ£ÃµÃ±Ã¤Ã«Ã¯Ã¶Ã¼Ã Ã¨Ã¬Ã²Ã¹Ã¢ÃªÃ®Ã´Ã»ÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]","*":"[A-Za-z0-9Ã¡Ã©Ã­Ã³ÃºÃ£ÃµÃ±Ã¤Ã«Ã¯Ã¶Ã¼Ã Ã¨Ã¬Ã²Ã¹Ã¢ÃªÃ®Ã´Ã»ÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ]"};function caret(begin,end){if(input.length==0){return null}if(typeof begin=="number"){end=(typeof end=="number")?end:begin;if(input.setSelectionRange){input.focus();input.setSelectionRange(begin,end)}else{if(input.createTextRange){var range=input.createTextRange();range.collapse(true);range.moveEnd("character",end);range.moveStart("character",begin);range.select()}}return input}else{if(input.setSelectionRange){begin=input.selectionStart;end=input.selectionEnd}else{if(document.selection&&document.selection.createRange){var range=document.selection.createRange();begin=0-range.duplicate().moveStart("character",-100000);end=begin+range.text.length}}return{begin:begin,end:end}}return null}settings=settings||{};settings.placeholder="_";settings.completed=null;var tests=[];var partialPosition=mask.length;var firstNonMaskPos=null;var len=mask.length;var input=this;this.unmask=function(){this.removeEvent("paste",E_paste,true).removeEvent("focus",E_focus,true).removeEvent("blur",E_blur,false).removeEvent("keydown",keydownEvent,false).removeEvent("keypress",keypressEvent,false);return this},mask.split("").each(function(i){if(this=="?"){len--;partialPosition=i}else{if(definitions[this]){tests.push(new RegExp(definitions[this]));if(firstNonMaskPos==null){firstNonMaskPos=tests.length-1}}else{tests.push(null)}}});var buffer=mask.split("").map(function(c,i){if(this!="?"){return definitions[this]?settings.placeholder:this}return null});var ignore=false;var focusText=this.value;function seekNext(pos){while(++pos<=len&&!tests[pos]){}return pos}function shiftL(pos){while(!tests[pos]&&--pos>=0){}for(var i=pos;i<len;i++){if(tests[i]){buffer[i]=settings.placeholder;var j=seekNext(i);if(j<len&&tests[i].test(buffer[j])){buffer[i]=buffer[j]}else{break}}}writeBuffer();caret(Math.max(firstNonMaskPos,pos))}function shiftR(pos){for(var i=pos,c=settings.placeholder;i<len;i++){if(tests[i]){var j=seekNext(i);var t=buffer[i];buffer[i]=c;if(j<len&&tests[j].test(t)){c=t}else{break}}}}function keydownEvent(e){var pos=caret();var k=e.key;ignore=(k<16||(k>16&&k<32)||(k>32&&k<41));if((pos.begin-pos.end)!=0&&(!ignore||k==8||k==46)){clearBuffer(pos.begin,pos.end)}if(k==8||k==46||(iPhone&&k==127)){shiftL(pos.begin+(k==46?0:-1));e.stop();return false}else{if(k==27){input.value=focusText;caret(0,checkVal());e.stop();return false}}return null}function keypressEvent(e){if(ignore){ignore=false;return(e.key==8)?false:null}var k=e.event.charCode||e.key||e.event.which;var pos=caret();if(e.ctrl||e.alt||e.meta||k<32){return true}else{if((k>=32&&k<=125)||k>186){var p=seekNext(pos.begin-1);if(p<len){var c=String.fromCharCode(k);if(tests[p].test(c)){shiftR(p);buffer[p]=c;writeBuffer();var next=seekNext(p);caret(next);if(settings.completed&&next==len){settings.completed.call(input)}}}}}e.stop();return false}function clearBuffer(start,end){for(var i=start;i<end&&i<len;i++){if(tests[i]){buffer[i]=settings.placeholder}}}function writeBuffer(){input.value=buffer.join("");return input.value}function checkVal(allow){var test=input.value;var lastMatch=-1;for(var i=0,pos=0;i<len;i++){if(tests[i]){buffer[i]=settings.placeholder;while(pos++<test.length){var c=test.charAt(pos-1);if(tests[i].test(c)){buffer[i]=c;lastMatch=i;break}}if(pos>test.length){break}}else{if(buffer[i]==test[pos]&&i!=partialPosition){pos++;lastMatch=i}}}if(!allow&&lastMatch+1<partialPosition){input.value="";clearBuffer(0,len)}else{if(allow||lastMatch+1>=partialPosition){writeBuffer();if(!allow){input.value=input.value.substring(0,lastMatch+1)}}}return(partialPosition?i:firstNonMaskPos)}function E_paste(){setTimeout(function(){caret(checkVal(true))},0)}function E_focus(){focusText=input.value;var pos=checkVal();writeBuffer();setTimeout(function(){if(pos==mask.length){caret(0,pos)}else{caret(pos)}},0)}function E_blur(){checkVal();if(input.value!=focusText){input.trigger("onchange")}}if(!input.readonly){this.unmask();input.addEvent("paste",E_paste,true).addEvent("focus",E_focus,true).addEvent("blur",E_blur,false).addEvent("keydown",keydownEvent,false).addEvent("keypress",keypressEvent,false)}checkVal();return this}})})(jCube);jCube.Include.files["Element.setFocus"];
jCube.Element.setFocus=(function(jCube){return jCube.Element.Implements({name:"setFocus",method:function(){var eInput=this;if(eInput.nodeName!="INPUT"&&eInput.nodeName!="TEXTAREA"&&eInput.nodeName!="SELECT"){eInput=eInput.getElementsByTagName("input")[0]||eInput.getElementsByTagName("textarea")[0]||eInput.getElementsByTagName("select")[0]}eInput=eInput||this;try{if(eInput){eInput.focus()}}catch(e){if(jCube.Debug.showWarnings){alert("Could not set focus to active element!\n"+e)}}return this}})})(jCube);jCube.Include.files["Element.setHTML"];
jCube.Element.setHTML=(function(jCube){return jCube.Element.Implements({name:"setHTML",disallow:["TEXTAREA","INPUT","WINDOW"],method:function(html){this.innerHTML=html;return this}})})(jCube);jCube.Include.files["Element.setPositionByCoordinates"];
jCube.Element.setPositionByCoordinates=(function(jCube){jCube.Include("Element.getOffset");jCube.Include("Element.setStyle");jCube.Include("Window");return jCube.Element.Implements({name:"setPositionByCoordinates",method:function(e,eRef){var X;var Y;var POS;if(eRef){var POS=eRef.getOffset(document.body);X=POS.right+this.offsetWidth<=window.getWidth()?POS.right:POS.left;Y=POS.top}else{e=e||window.event;X=e.clientX;Y=e.clientY}var objXY=this.getOffset(document.body);var t=Y,r=X+this.offsetWidth,b=Y+this.offsetHeight,l=X;if(r<window.getWidth()){this.setStyle("left",l)}else{if((l+window.getWidth()-r)>0){this.setStyle("left",l+window.getWidth()-r)}else{this.setStyle("left",0)}}if(b<window.getHeight()){this.setStyle("top",t)}else{if((t+window.getHeight()-b)>0){this.setStyle("top",t+window.getHeight()-b)}else{this.setStyle("top",0)}}return this}})})(jCube);jCube.Include.files["Element.setProperty"];
jCube.Element.setProperty=(function(jCube){return jCube.Element.Implements({name:"setProperty",method:function(property,value){this[property]=value;return this}})})(jCube);jCube.Include.files["Element.setPseudoText"];
jCube.Element.setPseudoText=(function(jCube){jCube.Include("Browser");jCube.Include("Event.add");return jCube.Element.Implements({name:"setPseudoText",allow:"INPUT",method:function(defaultText,defaultColor,defaultBackground){var styles;function OnFocus(){if(this.value==styles.text){this.value="";if(jCube.Browser.msie){this.removeAttribute("style")}else{this.style.background="";this.style.color="";this.style.border="";this.style.fontSize="";this.style.fontWeight="";this.style.fontFamily="";this.style.fontStyle="";this.style.textDecoration=""}}else{}if(this.onFocus){this.onFocus()}}function OnBlur(){if(this.value==""||this.value==styles.text){this.value=styles.text;if(styles.background){this.style.background=styles.background}if(styles.color){this.style.color=styles.color}if(styles.border){this.style.border=styles.border}if(styles.fontSize){this.style.fontSize=styles.fontSize}if(styles.fontWeight){this.style.fontWeight=styles.fontWeight}if(styles.fontFamily){this.style.fontFamily=styles.fontFamily}if(styles.fontStyle){this.style.fontStyle=styles.fontStyle}if(styles.textDecoration){this.style.textDecoration=styles.textDecoration}}else{}if(this.onBlur){this.onBlur()}}defaultColor=defaultColor||{};var eInput=this;if(eInput.nodeName!="INPUT"&&eInput.nodeName!="SELECT"&&eInput.nodeName!="TEXTAREA"){eInput=eInput.getElementsByTagName("input")[0]||eInput.getElementsByTagName("textarea")[0]||eInput.getElementsByTagName("select")[0]}if(!jCube(eInput)){if(jCube.debug.displayErrors){throw new Error("Element referenced by 'this' does not allow focus!")}return this}if(typeof defaultColor==""){styles={text:defaultText||eInput.title,color:defaultColor||eInput.style.color||"gray",background:defaultBackground||eInput.style.background||""}}else{styles={text:defaultText||eInput.title||"",background:defaultColor.background||eInput.style.background||"",border:defaultColor.border||eInput.style.border||"",color:defaultColor.color||eInput.style.color||"",fontSize:defaultColor.fontSize||eInput.style.fontSize||"",fontWeight:defaultColor.fontWeight||eInput.style.fontWeight||"",fontFamily:defaultColor.fontFamily||eInput.style.fontFamily||"",fontStyle:defaultColor.fontStyle||eInput.style.fontStyle||"",textDecoration:defaultColor.textDecoration||eInput.style.textDecoration||""}}if(eInput.nodeName=="INPUT"||eInput.nodeName=="TEXTAREA"){eInput.addEvent("focus",OnFocus);eInput.addEvent("blur",OnBlur)}eInput.title=styles.text;OnBlur.call(eInput);return this}})})(jCube);jCube.Include.files["Element.setSelection"];
jCube.Element.setSelection=(function(jCube){return jCube.Element.Implements({name:"setSelection",method:function(){var eInput=this;if(eInput.nodeName!="INPUT"&&eInput.nodeName!="TEXTAREA"&&eInput.nodeName!="SELECT"){eInput=eInput.getElementsByTagName("input")[0]||eInput.getElementsByTagName("textarea")[0]||eInput.getElementsByTagName("select")[0]}if(!eInput){if(jCube.Debug.displayErrors){throw new Error("Element referenced by 'this' does not allow focus!")}return this}try{if(eInput&&eInput.nodeName!="SELECT"){eInput.select()}}catch(e){if(jCube.Debug.displayErrors){throw new Error("Could not set focus to active element!\n"+e)}}return this}})})(jCube);jCube.Include.files["Element.setStyle"];
jCube.Element.setStyle=(function(jCube){jCube.Include("Browser");jCube.Include("Element.getOpacity");jCube.Include("Number.round");jCube.Include("Number.limit");jCube.Include("Object.each");jCube.Include("String.contains");jCube.Include("String.toCamelCase");return jCube.Element.Implements({name:"setStyle",method:function(name,value){var msie=jCube.Browser.msie,obj=this;function SetValue(name,value){name=name.toCamelCase();switch(name){case"bottom":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"cssFloat":name=(msie?"styleFloat":"cssFloat");break;case"cursor":switch(value){case"pointer":if(jCube.Browser.msie&&jCube.Browser.version<6){value="hand"}break;case"hand":if(!jCube.Browser.msie||jCube.Browser.version>=6){value="pointer"}break;case"grab":if(jCube.Browser.mozilla){value="-moz-grab"}else{if(jCube.Browser.webkit){value="-webkit-grab"}else{value="grab"}}break;case"grabbing":if(jCube.Browser.mozilla){value="-moz-grabbing"}else{if(jCube.Browser.webkit){value="-webkit-grabbing"}else{value="grabbing"}}break;default:if(jCube.Browser.msie&&jCube.String.contains.call(value+"","resize")){value="move"}break}break;case"float":name=(msie?"styleFloat":"cssFloat");break;case"fontSize":if(typeof value=="number"){value=jCube.Number.round.call(Math.max(value,0),2)+"px"}break;case"left":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"lineHeight":if(typeof value=="number"){value=jCube.Number.round.call(Math.max(value,0),2)+"px"}break;case"marginLeft":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"marginRight":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"marginTop":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"marginBottom":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"paddingTop":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"paddingRight":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"paddingBottom":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"paddingLeft":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"right":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"top":if(typeof value=="number"){value=jCube.Number.round.call(value,2)+"px"}break;case"width":if(typeof value=="number"){value=jCube.Number.round.call(Math.max(value,0),2)+"px"}break;case"height":if(typeof value=="number"){value=jCube.Number.round.call(Math.max(value,0),2)+"px"}break;case"bounds":if(value[0]!=null){obj.setStyle("left",value[0])}if(value[1]!=null){obj.setStyle("top",value[1])}if(value[2]!=null){obj.setStyle("width",value[2])}if(value[3]!=null){obj.setStyle("height",value[3])}break;case"position":if(value=="fixed"&&msie&&jCube.Browser.version<9){value="absolute"}break;case"opacity":if(msie&&jCube.Browser.version<9){obj.style.zoom=1;name="filter";if(value!=""){value=Math.min(100,Math.max(value*100,0));if(value!=""&&value!=null){value="progid:DXImageTransform.Microsoft.Alpha(Opacity="+jCube.Number.limit.call(value,0,100)+")"}else{value="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"}}}else{if(value!=""){value=Number(value).toFixed(3);value=Math.min(1,Math.max(value,0))}}break;case"scrollLeft":if(value!=""&&value!=null){value=jCube.Number.round.call(Number(value),2);if(obj==document.body||obj==window||obj==document.documentElement){var doc=document.documentElement||document.body;doc.scrollLeft=window.scrollLeft=value;doc=null}obj.scrollLeft=value;return obj}break;case"scrollTop":if(value!=""&&value!=null){value=jCube.Number.round.call(Number(value),2);if(obj==document.body||obj==window||obj==document.documentElement){var doc=document.documentElement||document.body;doc.scrollTop=window.scrollTop=value;doc=null}obj.scrollTop=value;return obj}break;case"styleFloat":name=(msie?"styleFloat":"cssFloat");break}try{obj.style[name]=value}catch(e){if(jCube.Debug.displayErrors){throw new Error('Error when setting the value "'+value+'" to the property "'+value+'"!\n'+e)}}return obj}if(typeof name=="object"){jCube.Object.each.call(name,function(name,value){SetValue(name,value)})}else{SetValue(name,value)}return this}})})(jCube);jCube.Include.files["Element.setValue"];
jCube.Element.setValue=(function(jCube){jCube.Include("Element.getOptionByContent");return jCube.Element.Implements({name:"setValue",method:function(value){var eInput=this;if(eInput.nodeName!="INPUT"&&eInput.nodeName!="TEXTAREA"&&eInput.nodeName!="SELECT"){eInput=eInput.getElementsByTagName("input")[0]||eInput.getElementsByTagName("textarea")[0]||eInput.getElementsByTagName("select")[0]}if(!eInput){if(jCube.Debug.displayErrors){throw new Error("No valid FORMElement has been found!")}return this}if(eInput.nodeName=="SELECT"){var crr=eInput.getOptionByContent(value);if(crr){eInput.selectedIndex=crr.index}}else{eInput.value=value}return this}})})(jCube);jCube.Include.files["Element.show"];
jCube.Element.show=(function(jCube){jCube.Include("Array.contains");jCube.Include("Element.getComputedStyle");jCube.Include("Element.setStyle");return jCube.Element.Implements({name:"show",disallow:["BODY","WINDOW","DOCUMENT"],method:function(delay,onComplete){this.style.display="";if(this.getComputedStyle("display")=="none"){if(arguments.length){this.setStyle("opacity",0)}this.style.display=["DIV","H1","H1","H3","H4","H5","H6","P","UL","OL","DL","LI","DT","DT","TABLE","BLOCKOTE","PRE","FORM"].contains(this.nodeName)?"block":"inline"}else{this.style.display=this.getComputedStyle("display")}if(arguments.length){if(jCube.Transition&&jCube.Transition.fadeIn){return jCube.Transition.fadeIn.apply(this,arguments)}else{if(jCube.Debug.displayErrors){throw new Error("Transition.fadeIn library is missing!")}}}return this}})})(jCube);jCube.Include.files["Element.toggleClass"];
jCube.Element.toggleClass=(function(jCube){jCube.Include("Array.each");jCube.Include("Element.addClass");jCube.Include("Element.removeClass");return jCube.Element.Implements({name:"toggleClass",method:function(name){var obj=this;name.split(/\s/).each(function(crr){if((obj.className||"").split(/\s/).contains(crr)){obj.removeClass(crr)}else{obj.addClass(crr)}});return this}})})(jCube);jCube.Include.files.Event;
jCube.Event=(function(jCube){jCube.Include("Array.each");jCube.Include("Array.map");jCube.Include("Array.remove");jCube.Include("Browser");jCube.Include("String.contains");jCube.Include("String.left");jCube.Include("Window");var Event=function(e){var customEvents={};if(!e&&jCube.Browser.msie){e=event}else{if(e&&e.event){e=e.event}}if(e){var key=e.keyCode;customEvents={key:key,ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey,left:key==37,up:key==38,right:key==39,down:key==40,enter:key==13,home:key==36,end:key==35,pgup:key==33,pageup:key==33,pgdown:key==34,pagedown:key==34,ins:key==45,insert:key==45,del:key==46,scrollLock:key==145,pause:key==19,tab:key==9,f1:key==112,f2:key==113,f3:key==114,f4:key==115,f5:key==116,f6:key==117,f7:key==118,f8:key==119,f9:key==120,f10:key==121,f11:key==122,f12:key==123,caps:key==20,esc:key==27,numLock:key==144,space:key==32,spaceBar:key==32,target:e.target||e.srcElement,srcElement:e.target||e.srcElement,object:e.target||e.srcElement,obj:e.target||e.srcElement,event:e,dataTransfer:e.dataTransfer,wheel:e.wheelDelta?(e.wheelDelta==120?-1:1):(e.detail||0),delta:jCube.Browser.opera?(e.wheelDelta?e.wheelDelta/60:e.detail/1.5):(e.wheelDelta?-e.wheelDelta/60:e.detail/1.5),rightClick:(e.which==3)||(e.button==2)||0,screenX:e.screenX||0,screenY:e.screenY||0,pageX:(e.pageX?e.pageX:e.clientX+window.getScrollLeft())||0,pageY:(e.pageY?e.pageY:e.clientY+window.getScrollTop())||0,layerX:(!jCube.Browser.webkit&&e.layerX?e.layerX:e.x)||0,layerY:(!jCube.Browser.webkit&&e.layerY?e.layerY:e.y)||0,clientX:e.clientX?e.clientX:e.pageX-window.getScrollLeft(),clientY:e.clientY?e.clientY:e.pageY-window.getScrollTop(),stop:function(){return this.stopPropagation().preventDefault()},stopPropagation:function(){if(this.event.stopPropagation){this.event.stopPropagation()}else{this.event.cancelBubble=true}return this},preventDefault:function(){if(this.event.preventDefault){this.event.preventDefault()}else{this.event.returnValue=false}return this}}}return customEvents};var Events=[];var SearchIndex=function(rows,search,bidimensional){for(var i=0,len=rows.length;i<len;i++){if(bidimensional){if(rows[i][0]===search){return rows[i]}}else{if(rows[i]==search){return rows[i]}}}return null};Event.merge(jCube.Event).merge({addRecord:function(eHtml,name,fx,id){name=(name.left(2).contains("on")?"":"on")+name;eHtml=jCube(eHtml);var row=SearchIndex(Events,eHtml,true);if(!row){Events.push([eHtml,[[name,fx,id]]])}else{var binded=false;jCube.Array.each.call(row[1],function(){if(this[0]==name&&(!id?(this[1]==fx):(this[2]==id))){binded=this}});if(binded){binded[1]=fx}else{row[1].push([name,fx,id])}}return row},getRecord:function(eHtml,name,fx,id){eHtml=jCube(eHtml);var row=SearchIndex(Events,eHtml,true);var fxs=[];if(!row){return row}else{if(name&&fx){name=(name.left(2).contains("on")?"":"on")+name;jCube.Array.each.call(row[1],function(){if(this[0]==name&&((id&&id==this[2])||(id===null&&fx===this[1]))){fxs.push(this[1])}});return fxs[0]}else{if(name){name=(name.left(2).contains("on")?"":"on")+name;jCube.Array.each.call(row[1],function(){if(this[0]==name){fxs.push(this)}});return fxs}}}return row},delRecord:function(eHtml,name,fx,id){eHtml=jCube(eHtml);var row=SearchIndex(Events,eHtml,true),indexes=[];if(eHtml&&name&&fx){name=(name.left(2).contains("on")?"":"on")+name;jCube.Array.map.call(row[1],function(item,index){if(item&&item[0]==name&&((id&&id==item[2])||(id===null&&fx===item[1]))){return null}return item},null,true);jCube.Array.remove.call(row[1],null,true)}else{if(eHtml&&name){name=(name.left(2).contains("on")?"":"on")+name;jCube.Array.map.call(row[1],function(item,index){if(item[0]==name){return null}return item},row[1],true);jCube.Array.remove.call(row[1],null,true)}else{if(eHtml){jCube.Array.remove.call(Event,row,true);Events.remove(row,true)}else{if(jCube.Debug.displayErrors){throw new Error('"jCube.Event.delRecord" required at least the first argument (eHtml)!')}}}}return this}});return Event})(jCube);jCube.Include.files["Event.add"];
jCube.Event.add=(function(jCube){jCube.Include("Array.copy");jCube.Include("Browser");jCube.Include("Event");jCube.Include("String.left");return jCube.Element.Implements({name:"addEvent",method:function(type,listener,useCapture){useCapture=useCapture==null?true:useCapture;var obj=this;var handler=function(e){var args=jCube.Array.copy.call(arguments);args[0]=jCube.Event(e);listener.apply(obj,args)};if(type=="mousewheel"||type=="DOMMouseScroll"||type.toLowerCase()=="mousescroll"){if(jCube.Browser.safari||jCube.Browser.opera||jCube.Browser.msie){type="mousewheel"}else{type="DOMMouseScroll"}}if(type=="DOMReady"||type=="onDOMReady"){jCube.Window.DOMReady.readyList=jCube.Window.DOMReady.readyList||[];jCube.Window.DOMReady.readyList.push(listener);jCube.Window.DOMReady.onDOMReady()}else{if(document.attachEvent){if(type.left(2)!="on"){type="on"+type}}else{if(type.left(2)=="on"){type=type.substring(2)}}}try{jCube.Event.addRecord(this,type,handler,listener.toString(),true);if(this.attachEvent){this.attachEvent(type,handler)}else{this.addEventListener(type,handler,useCapture)}}catch(e){if(jCube.Debug.displayErrors){throw new Error("Can't register the Event listener!\n"+e)}}return this}})})(jCube);jCube.Include.files["Event.remove"];
jCube.Event.remove=(function(jCube){jCube.Include("Event");jCube.Include("String.left");return jCube.Element.Implements({name:"removeEvent",method:function(type,listener,useCapture){useCapture=useCapture==null?true:useCapture;if(type=="mousewheel"||type=="DOMMouseScroll"||type.toLowerCase()=="mousescroll"){if(jCube.browser.safari||jCube.browser.opera||jCube.browser.msie){type="mousewheel"}else{type="DOMMouseScroll"}}if(document.detachEvent){if(type.left(2)!="on"){type="on"+type}}else{if(useCapture==null){useCapture=true}if(type.left(2)=="on"){type=type.substring(2)}}if(jCube.Event.getRecord(this,type,listener,listener.toString())){try{if(this.detachEvent){this.detachEvent(type,jCube.Event.getRecord(this,type,listener,listener.toString()))}else{this.removeEventListener(type,jCube.Event.getRecord(this,type,listener,listener.toString()),useCapture)}jCube.Event.delRecord(this,type,jCube.Event.getRecord(this,type,listener,listener.toString()),listener.toString())}catch(e){if(jCube.Debug.displayErrors){throw new Error("Erro ao remover event listener!\n"+e)}}}else{}return this}})})(jCube);jCube.Include.files["Event.runOnce"];
jCube.Event.runOnce=(function(jCube){jCube.Include("Event.add");jCube.Include("Event.remove");return jCube.Element.Implements({name:"runOnce",method:function(type,listener,useCapture){var listenOnce;listenOnce=function(){listener.apply(this,arguments);this.removeEvent(type,listenOnce,useCapture)};this.addEvent(type,listenOnce,useCapture);return this}})})(jCube);jCube.Include.files["Event.trigger"];
jCube.Event.trigger=(function(jCube){jCube.Include("Array.each");jCube.Include("Event");jCube.Include("String.contains");jCube.Include("String.left");return jCube.Element.Implements({name:"trigger",method:function(type){var element=this;var args=arguments;if(this[type]&&typeof this[type]=="function"){try{this[type].apply(element,args)}catch(e){}}jCube.Array.each.call((jCube.Event.getRecord(this,type)||[]),function(){type=(type.left(2).contains("on")?"":"on")+type;if(this[0]==type){this[1].apply(element,args)}});return this}})})(jCube);jCube.Include.files["Function.delay"];
jCube.Function.delay=Function.prototype.delay=function(time,bind){bind=bind||this;var args=[];for(var i=2;i<arguments.length;i++){args.push(arguments[i])}var handler=this;var timestamp=0;if(time){timestamp=window.setTimeout(function(e){handler.apply(bind,args)},time)}else{this.apply(bind,args)}return timestamp};jCube.Include.files["Function.inherits"];
jCube.Function.inherits=Function.prototype.inherits=function(Ancestor){var Child=this;var Fx=function(){if(0&&this.init){this.init.apply(this,arguments)}else{if(0&&this.initialize){this.initialize.apply(this,arguments)}else{Ancestor.apply(this,arguments)}}Child.apply(this,arguments)};Fx.prototype=new Ancestor();Fx.prototype.ancestor=Fx.prototype;return Fx};jCube.Include.files["Math.between"];
jCube.Math.between=Math.between=function(min,num,max){return Math.max(min,Math.min(max,num))};jCube.Include.files["Math.getCubicBezier"];
jCube.Math.getCubicBezier=(function(jCube){var getCubicBezier=function(p,p1x,p1y,p2x,p2y,d){d=d==null?1:d;var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;function sampleCurveX(p){return((ax*p+bx)*p+cx)*p}function sampleCurveY(p){return((ay*p+by)*p+cy)*p}function sampleCurveDerivativeX(p){return(3*ax*p+2*bx)*p+cx}function solveEpsilon(d){return 1/(200*d)}function solve(x,epsilon){return sampleCurveY(solveCurveX(x,epsilon))}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n}else{return 0-n}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<epsilon){return t2}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break}t2=t2-x2/d2}t0=0;t1=1;t2=x;if(t2<t0){return t0}if(t2>t1){return t1}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<epsilon){return t2}if(x>x2){t0=t2}else{t1=t2}t2=(t1-t0)*0.5+t0}return t2}return solve(p,solveEpsilon(d))};if(jCube.config.alterNativePrototype){Math.getCubicBezier=function(){return jCube.Math.getCubicBezier.apply(jCube.Math,arguments)}}return getCubicBezier})(jCube);jCube.Include.files["Math.ruleOfThree"];
jCube.Math.ruleOfThree=(function(jCube){if(jCube.config.alterNativePrototype){Math.ruleOfThree=function(){return jCube.Math.ruleOfThree.apply(this,arguments)}}return(function(r1,r2,r3,r4){if(r1==null){return(r2*r3/r4)}else{if(r2==null){return(r1*r4/r3)}else{if(r3==null){return(r1*r4/r2)}else{if(r4==null){return(r2*r3/r1)}}}}return 0})})(jCube);jCube.Include.files["Number.add"];
jCube.Number.add=Number.prototype.add=function(n){return this+n};jCube.Include.files["Number.ceil"];
jCube.Number.ceil=Number.prototype.ceil=function(){return Math.ceil(this)};jCube.Include.files["Number.check"];
jCube.Number.check=Number.prototype.check=function(alt){if(isFinite(this)&&!isNaN(this)){return Number(this)}return alt};jCube.Include.files["Number.floor"];
jCube.Number.floor=Number.prototype.floor=function(){return Math.floor(this)};jCube.Include.files["Number.format"];
jCube.Number.format=Number.prototype.format=function(decimal){decimal=decimal||0;var s;var decimalSeparator=jCube.International.decimalSeparator;var thousandSeparator=jCube.International.thousandSeparator;if(decimal){s=String(Math.round(this*Math.pow(10,decimal))/Math.pow(10,decimal))}else{s=String(this)}s=s.replace(".",decimalSeparator);s=s.replace(",",decimalSeparator);if(s.indexOf(decimalSeparator)==-1){s+=decimalSeparator+"0000000000"}else{s+="0000000000"}var pos=s.indexOf(decimalSeparator);var s1=s.substring(0,pos);var s2=s.substring(pos,pos+1+decimal);s=s1.length%3?s1.substring(0,s1.length%3)+thousandSeparator:"";for(var i=s1.length%3;i<s1.length;i+=3){s+=s1.substring(i,i+3)+thousandSeparator}if(s.charAt(s.length-1)==thousandSeparator){s=s.substring(0,s.length-1)}if(s2==decimalSeparator){s2=""}return s+s2};jCube.Include.files["Number.isBetween"];
jCube.Number.isBetween=Number.prototype.isBetween=function(min,max){return this>=min&&this<=max};jCube.Include.files["Number.limit"];
jCube.Number.limit=Number.prototype.limit=function(min,max){if(this<min){return min}else{if(this>max){return max}else{return this}}};jCube.Include.files["Number.multiply"];
jCube.Number.multiply=Number.prototype.multiply=function(n){return this*n};jCube.Include.files["Number.pow"];
jCube.Number.pow=Number.prototype.pow=function(pow){return Math.pow(this,pow||2)};jCube.Include.files["Number.round"];
jCube.Number.round=Number.prototype.round=function(precision){var power=precision?10:1;return Math.round(this*Math.pow(power,precision||0))/Math.pow(power,precision||0)};jCube.Include.files["Number.sqrt"];
jCube.Number.sqrt=Number.prototype.sqrt=function(){return Math.sqrt(this)};jCube.Include.files["Object.each"];
jCube.Number.toTime=Number.prototype.toTime=function(mask){var date=this;var days=Math.floor((this/1000/60/60/24));var hours=Math.floor((this/1000/60/60)%24);var minutes=Math.floor((this/1000/60)%60);var seconds=Math.floor((this/1000)%60);var millis=Math.floor((this)%1000);if(mask==null){alert('Argument "mask" missing!');return null}if(mask.indexOf("%t")>-1){if(hours>0){mask=mask.replace("%t","%k:%i:%S")}else{if(minutes>0){mask=mask.replace("%t","%I:%S")}else{mask=mask.replace("%t","%s")}}}if(mask.indexOf("%f")>-1){var _mili="0000000"+millis;mask=mask.replace("%f",_mili.substring(_mili.length-3))}if(mask.indexOf("%S")>-1){mask=mask.replace("%S",(seconds<10?"0":0)+seconds)}if(mask.indexOf("%s")>-1){mask=mask.replace("%s",seconds)}if(mask.indexOf("%I")>-1){mask=mask.replace("%I",minutes)}if(mask.indexOf("%i")>-1){if(minutes<1){minutes="00"}else{if(minutes<10){minutes="0"+minutes}}mask=mask.replace("%i",minutes)}if(mask.indexOf("%H")>-1){if(hours<1){hours="00"}else{if(hours<10){hours="0"+hours}}mask=mask.replace("%H",hours)}if(mask.indexOf("%k")>-1){mask=mask.replace("%k",hours)}if(mask.indexOf("%d")>-1){if(days<1){days="00"}else{if(days<10){days="0"+days}}mask=mask.replace("%d",days)}if(mask.indexOf("%e")>-1){mask=mask.replace("%e",days)}return mask};jCube.Include.files["Number.toTime"];
jCube.Object.each=(function(jCube){if(jCube.config.alterNativePrototype){Object.prototype.each=function(){return jCube.Object.each.apply(this,arguments)}}return function(callback,bind){if(callback==null){throw new Error("missing argument 0 when calling Object.prototype.map")}else{if(typeof callback!=="function"){throw new Error('"callback" parameter must be a function!')}}for(var i in this){if(Object.prototype[i]!=this[i]){callback.call(bind||this,i,this[i],this)}}return this}})(jCube);jCube.Include.files["Pluggins.CreateContextMenu"];
jCube.Include("UI.CreateContextMenu");jCube.Include("Pluggins/CreateContextMenu/themes/"+jCube.config.theme+"/main.css");jCube.Pluggins.merge({CreateContextMenu:function(options){var CreateContextMenu=(function(options){this.ancestor.init(options);this.ancestor.eMenu=this.ancestor.createMenu(options.data);this.show=function(e,eMenu){if(jCube.Browser.msie&&jCube.Browser.version<8){(eMenu||this.eMenu).setStyle("width",350)}this.ancestor.show.apply(this,arguments)};return this}).inherits(jCube.UI.CreateContextMenu);jCube.Pluggins.CreateContextMenu=CreateContextMenu;return new CreateContextMenu(options)}});jCube.Include.files["Pluggins.Grid"];
jCube.Include("UI.Grid");jCube.Include("Pluggins/Grid/themes/"+jCube.config.theme+"/main.css");jCube.Pluggins.merge({Grid:function(options){var Grid=(function(options){this.ancestor.init(options);return this}).inherits(jCube.UI.Grid);jCube.Pluggins.Grid=Grid;return new Grid(options)}});jCube.Include.files["Pluggins.Increaser"];
jCube.Include("UI.Increaser");jCube.Include("Pluggins/Increaser/themes/"+jCube.config.theme+"/main.css");jCube.Pluggins.merge({Increaser:function(options){var Increaser=(function(options){options=options||{};options.img=options.img||(jCube.root+"Pluggins/Increaser/themes/"+jCube.config.theme+"/imgs/regular.png");this.init(options);return this}).inherits(jCube.UI.Increaser);jCube.Pluggins.Increaser=Increaser;return new Increaser(options)}});jCube.Include.files["Pluggins.SplitPane"];
jCube.Include("UI.SplitPane");jCube.Include("Pluggins/SplitPane/themes/"+jCube.config.theme+"/main.css");jCube.Pluggins.merge({SplitPane:function(options){var SplitPane=(function(options){var __parentOnResize=this.onResize;options.onResize=function(){if(__parentOnResize){__parentOnResize.call(this)}var w=this.leftPane.style.width.toInteger(this.leftPane.offsetWidth);var w2=this.knob.style.width.toInteger(this.knob.offsetWidth);this.knob.style.left=w+"px";this.rightPane.style.marginLeft=(w+w2)+"px";this.rightPane.style.width=""};this.init(options);return this}).inherits(jCube.UI.SplitPane);jCube.Pluggins.SplitPane=SplitPane;return new SplitPane(options)}});jCube.Include.files["Pluggins.Switch"];
jCube.Include("UI.Switch");jCube.Include("Pluggins/Switch/themes/"+jCube.config.theme+"/main.css");jCube.Pluggins.merge({Switch:function(options){var Switch=(function(options){this.setValue=function(v,p){return this.ancestor.setValue.call(this,v,p)};this.init(options);return this}).inherits(jCube.UI.Switch);jCube.Pluggins.Switch=Switch;return new Switch(options)}});jCube.Include.files["Pluggins.TabbedPane"];
jCube.Include("UI.TabbedPane");jCube.Include("Pluggins/TabbedPane/themes/"+jCube.config.theme+"/main.css");jCube.Pluggins.merge({TabbedPane:function(options){var TabbedPane=(function(options){var tabbedPane=jCube(options.tabbedPane);this.openTab=function(index){return this.ancestor.openTab.call(this,index)};this.ancestor.init(options);return this}).inherits(jCube.UI.TabbedPane);jCube.Pluggins.TabbedPane=TabbedPane;return new TabbedPane(options)}});jCube.Include.files["Pluggins.showOverlay"];
jCube.Pluggins.showOverlay=(function(jCube){jCube.Include("Element.appendTo");jCube.Include("Element.getComputedStyle");jCube.Include("Element.getOffset");jCube.Include("Element.remove");jCube.Include("Element.setStyle");jCube.Include("Event.runOnce");jCube.Include("Transition.boundTo");jCube.Include("Transition.fadeIn");jCube.Include("Transition.fadeOut");var glassPane=document.createElement("DIV");glassPane.onclick=function(){Hide.call(crrOverlay,crrOptions)};var crrOverlay;var crrOptions;var overlay=document.createElement("DIV");var isOpened=false;function Hide(options){options=options||crrOptions||{};var This=this;this.onFadeOutComplete=function(){if(!(options||{}).doNotRemoveOnHiding){this.remove()}else{this.setStyle({left:-100000,top:-100000})}};if(options.objRef){var duration=options.duration||800;var bounds=options.objRef.getOffset(document.body);overlay.onBoundComplete=function(){this.remove();this.onBoundComplete=null};overlay.onBound=function(){This.setStyle({left:this.offsetLeft,top:this.offsetTop})};this.fadeOut(duration/4);overlay.boundTo(bounds.left,bounds.top,options.objRef.offsetWidth,options.objRef.offsetHeight,duration,options.transition)}else{this.fadeOut(options.duration||800)}this.runOnce("onFadeOutComplete",function(E){if(options.onHideOverlayComplete){options.onHideOverlayComplete.call(this,E)}});isOpened=false;if(options.glassPane&&(options.glassPane.duration||options.glassPane.transition||options.glassPane.delay||options.transition)){options.glassPane.duration=options.glassPane.duration||options.duration||800;options.glassPane.opacity=0;glassPane.fadeOut(options.glassPane);glassPane.onFadeOutComplete=function(){this.remove();this.onFadeOutComplete=null}}else{glassPane.remove()}}function Show(options){if(!options&&isOpened){options=crrOptions||{}}options=options||{};glassPane.setStyle({width:window.getWidth(),height:window.getHeight()}).appendTo(document.body);if(options.glassPane){var _style={}.merge(options.glassPane);options.glassPane.duration=options.glassPane.showDuration=options.glassPane.transition=options.glassPane.delay=options.glassPane.effect=options.glassPane.transition=null;jCube(glassPane).setStyle(options.glassPane);options.glassPane.merge(_style)}if(options.overlay){var _style={}.merge(options.overlay);options.overlay.duration=options.overlay.showDuration=options.overlay.transition=options.overlay.delay=options.overlay.effect=null;jCube(overlay).setStyle(options.overlay);options.overlay.merge(_style)}if(this.getComputedStyle("display")=="none"){this.setStyle({display:"block",opacity:0})}if(this.getComputedStyle("visibility")=="hidden"){this.setStyle({visibility:"visible",opacity:0})}crrOptions=options;if(options.glassPane.duration||options.glassPane.transition||options.glassPane.delay||options.glassPane.transition){options.glassPane.duration=options.glassPane.duration||options.duration||800;glassPane.setStyle("opacity",0).fadeIn(options.glassPane)}this.appendTo(document.body).setStyle({left:window.getWidth()/2-this.offsetWidth/2,top:window.getHeight()/2-this.offsetHeight/2,zIndex:10000000});crrOverlay=this;isOpened=true;if((options.objRef=jCube(options.objRef))){var thisB=this.getOffset(document.body);var This=this;overlay.onBound=function(){This.setStyle({left:this.offsetLeft,top:this.offsetTop})};var refBound=options.objRef.getOffset(document.body);refBound=[refBound.left,refBound.top,options.objRef.offsetWidth,options.objRef.offsetHeight];var duration=options.overlay.showDuration||options.overlay.duration||options.showDuration||options.duration||800;duration=duration-duration/4;overlay.appendTo(document.body).setStyle({bounds:refBound}).boundTo(thisB.left,thisB.top,this.offsetWidth,this.offsetHeight,duration,options.transitionIn||options.transition);this.fadeIn({duration:options.duration,delay:options.delay||duration/4})}else{var duration=options.showDuration||options.duration||800;this.fadeIn(duration)}this.runOnce("onFadeInComplete",function(E){if(options.onShowOverlayComplete){options.onShowOverlayComplete.call(this,E)}})}return jCube.Element.Implements({name:"showOverlay",method:function(options){if(!glassPane.initialized){jCube(glassPane).addClass("glassPane").setStyle({position:"fixed",opacity:0,left:0,top:0,zIndex:999999,cursor:"default"});glassPane.initialized=true;jCube(overlay).setStyle({position:"fixed",zIndex:1000000}).addClass("overlay")}if(isOpened){Hide.call(this,options)}else{Show.call(this,options)}return this}})})(jCube);jCube.Include.files["Server.HttpRequest"];
jCube.Server.HttpRequest=(function(jCube){jCube.Include("String.contains");if(!window.XMLHttpRequest){window.XMLHttpRequest=function(){try{return this.xmlhttp=new ActiveXObject("MSXML3.XMLHTTP")}catch(e){}try{return this.xmlhttp=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){}try{return this.xmlhttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}}return jCube.Object.merge.call(function(url,onComplete){var options={};if(typeof url=="string"){if(onComplete!==null&&typeof onComplete=="object"){options=onComplete;options.url=url}else{if(typeof onComplete=="function"){options.url=url;options.onComplete=onComplete}else{options.url=url}}}else{options=url}if(this.HttpRequest==jCube.Server.HttpRequest){if(jCube.Debug.displayErrors){throw new Error(jCube.Server.HttpRequest.Error["constructor needed"][jCube.International.language])}return false}jCube.Object.merge.call(this,options);this.tellapsed=0;this.onComplete=options.onLoad||options.onComplete;this.onRequest=options.onRequest;this.onError=options.onError;this.content=options.content||"";this.interval=options.interval||450;this.url=options.url;this.method=options.method||jCube.Server.HttpRequest.HTTP_GET;this.async=options.async==null?jCube.Server.HttpRequest.HTTP_ASYNCHRONIZED:options.async;this.length=0;this.charset=options.charset||"UTF-8";this.headers=[];var isLoaded=false;this.setHeader=this.setRequestHeader=function(name,value){this.headers.push([name,value]);return this};this.start=function(){if(!this.args){this.args=[];for(var i=0;i<arguments.length;i++){this.args[i]=arguments[i]}}this.tstart=new Date().getTime();isLoaded=false;var superObj=this;if(this.onStart){this.onStart.apply(this,this.args)}if(this.nocache||this.noCache){if(this.url.contains("nocache=")){this.url=this.url.replace(/nocache\=[0-9]+/,"nocache="+this.tstart)}else{this.addGet("nocache",this.tstart)}}try{this.xmlhttp=new XMLHttpRequest();this.xmlhttp.open(this.method,this.url,this.async);var hasContentType=false;for(var i=0;i<this.headers.length;i++){if(this.headers[i][0].toLowerCase()=="content-type"){hasContentType=true;break}}if(!hasContentType){this.headers.push(["Content-type","application/x-www-form-urlencoded; charset="+this.charset])}for(var i=0;i<this.headers.length;i++){this.xmlhttp.setRequestHeader(this.headers[i][0],this.headers[i][1])}this.xmlhttp.send(this.content)}catch(e){if(this.onError){this.onError()}if(jCube.Debug.displayErrors){throw new Error(jCube.Server.HttpRequest.Error["send data"][jCube.International.language].replace("%url",this.url)+e)}}var Requesting=function(){this.tellapsed=new Date().getTime()-this.tstart;this.readyState=this.xmlhttp.readyState;try{this.responseText=this.xmlhttp.responseText;this.responseXML=this.xmlhttp.responseXML}catch(e){this.responseText=""}this.length=this.responseText.length;if(!isLoaded){if(this.readyState==4){window.clearInterval(this.interval);isLoaded=true;if(this.xmlhttp.status==jCube.Server.HttpRequest.HTTP_OK||this.xmlhttp.status==0){if(this.onComplete||this.onLoad){(this.onComplete||this.onLoad).apply(this,this.args)}}else{if(this.onError){this.onError.apply(this,this.args)}}}else{if(this.onRequesting){this.onRequesting.apply(this,this.args)}}}};if(this.xmlhttp){Requesting.call(superObj);this.interval=window.setInterval(function(){Requesting.call(superObj)},this.interval)}return this};this.addPost=function(name,value){this.content+="&"+name+"="+escape(value);return this};this.addGet=function(name,value){this.url+=(this.url.indexOf("?")==-1)?"?":"&";this.url+=name+"="+escape(value);return this};this.send=function(content){this.args=[];for(var i=1;i<arguments.length;i++){this.args.push(arguments[i])}if(content){this.content+=content}return this.start()};this.abort=function(){if(this.xmlhttp&&this.xmlhttp.abort){try{this.xmlhttp.abort()}catch(e){if(jCube.Debug.displayErrors){alert("Error!\n"+e)}}}return this};return this},{Error:{"constructor needed":{en:'"jCube.Server.HttpRequest" is not a function. Needs to be constructed. Sample:\n\tvar http = new jCube.Server.HttpRequest(...);\n\t http.start();',pt:'"jCube.Server.HttpRequest" não é uma função. Antes, é um construtor. Para utilizá-lo, use o operador "new".\nExemplo:\n\tvar http = new jCube.Server.HttpRequest(...);\n\t http.start();'},"send data":{en:"Error when attempting to open a XMLHttpRequest and send its data!\nUrl:\t%url\n\n\n",pt:'Ocorreu um erro ao tentar abrir a conexão XMLHttpRequest ou ao tentar enviar dados por meio do método "send"!\nUrl:\t%url\n\n\n'}},HTTP_POST:"post",HTTP_GET:"get",HTTP_SYNCHRONIZED:false,HTTP_ASYNCHRONIZED:true,HTTP_ACCEPTED:202,HTTP_BAD_GATEWAY:502,HTTP_BAD_METHOD:405,HTTP_BAD_REQUEST:400,HTTP_CLIENT_TIMEOUT:408,HTTP_CONFLICT:409,HTTP_CREATED:201,HTTP_ENTITY_TOO_LARGE:413,HTTP_FORBIDDEN:403,HTTP_GATEWAY_TIMEOUT:504,HTTP_GONE:410,HTTP_INTERNAL_ERROR:500,HTTP_LENGTH_REQUIRED:411,HTTP_MOVED_PERM:301,HTTP_MOVED_TEMP:302,HTTP_MULT_CHOICE:300,HTTP_NO_CONTENT:204,HTTP_NOT_ACCEPTABLE:406,HTTP_NOT_AUTHORITATIVE:203,HTTP_NOT_FOUND:404,HTTP_NOT_IMPLEMENTED:501,HTTP_NOT_MODIFIED:304,HTTP_OK:200,HTTP_PARTIAL:206,HTTP_PAYMENT_REQUIRED:402,HTTP_PRECON_FAILED:412,HTTP_PROXY_AUTH:407,HTTP_REQ_TOO_LONG:414,HTTP_RESET:205,HTTP_SEE_OTHER:303,HTTP_SERVER_ERROR:500,HTTP_UNAUTHORIZED:401,HTTP_UNAVAILABLE:503,HTTP_UNSUPPORTED_TYPE:415,HTTP_USE_PROXY:305,HTTP_VERSION:505})})(jCube);jCube.Include.files["String.contains"];
jCube.String.contains=String.prototype.contains=function(s,index){return this.indexOf(s,index||0)>-1};jCube.Include.files["String.endsWith"];
jCube.String.endsWith=String.prototype.endsWith=function(keyword,ignoreCase){var _string=this;if(ignoreCase==true){_string=_string.toLowerCase();keyword=keyword.toLowerCase()}return _string.substring(_string.length-keyword.length)==keyword};jCube.Include.files["String.hyphenate"];
jCube.String.hyphenate=String.prototype.hyphenate=function(){return this.replace(/([A-Z])/g,function(s){return"-"+s.toLowerCase()})};jCube.Include.files["String.left"];
jCube.String.left=String.prototype.left=function(n){if(n<0){n=this.length}return this.substring(0,n)};jCube.Include.files["String.md5"];
jCube.String.md5=String.prototype.md5=function(charSize){if(!charSize){charSize=String.ASCII}function __subFx__add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&65535)}function __subFx__rotateLeft(num,cnt){return(num<<cnt)|(num>>>(32-cnt))}function __subFx__cmn(q,a,b,x,s,t){return __subFx__add(__subFx__rotateLeft(__subFx__add(__subFx__add(a,q),__subFx__add(x,t)),s),b)}function __subFx__ff(a,b,c,d,x,s,t){return __subFx__cmn((b&c)|((~b)&d),a,b,x,s,t)}function __subFx__gg(a,b,c,d,x,s,t){return __subFx__cmn((b&d)|(c&(~d)),a,b,x,s,t)}function __subFx__hh(a,b,c,d,x,s,t){return __subFx__cmn(b^c^d,a,b,x,s,t)}function __subFx__ii(a,b,c,d,x,s,t){return __subFx__cmn(c^(b|(~d)),a,b,x,s,t)}var data=this;var len=this.length*charSize;var x=new Array();var mask=(1<<charSize)-1;for(var i=0;i<this.length*charSize;i+=charSize){x[i>>5]|=(this.charCodeAt(i/charSize)&mask)<<(i%32)}x[len>>5]|=128<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;var old_a,old_b,old_c,old_d;for(var i=0;i<x.length;i+=16){old_a=a;old_b=b;old_c=c;old_d=d;a=__subFx__ff(a,b,c,d,x[i+0],7,-680876936);d=__subFx__ff(d,a,b,c,x[i+1],12,-389564586);c=__subFx__ff(c,d,a,b,x[i+2],17,606105819);b=__subFx__ff(b,c,d,a,x[i+3],22,-1044525330);a=__subFx__ff(a,b,c,d,x[i+4],7,-176418897);d=__subFx__ff(d,a,b,c,x[i+5],12,1200080426);c=__subFx__ff(c,d,a,b,x[i+6],17,-1473231341);b=__subFx__ff(b,c,d,a,x[i+7],22,-45705983);a=__subFx__ff(a,b,c,d,x[i+8],7,1770035416);d=__subFx__ff(d,a,b,c,x[i+9],12,-1958414417);c=__subFx__ff(c,d,a,b,x[i+10],17,-42063);b=__subFx__ff(b,c,d,a,x[i+11],22,-1990404162);a=__subFx__ff(a,b,c,d,x[i+12],7,1804603682);d=__subFx__ff(d,a,b,c,x[i+13],12,-40341101);c=__subFx__ff(c,d,a,b,x[i+14],17,-1502002290);b=__subFx__ff(b,c,d,a,x[i+15],22,1236535329);a=__subFx__gg(a,b,c,d,x[i+1],5,-165796510);d=__subFx__gg(d,a,b,c,x[i+6],9,-1069501632);c=__subFx__gg(c,d,a,b,x[i+11],14,643717713);b=__subFx__gg(b,c,d,a,x[i+0],20,-373897302);a=__subFx__gg(a,b,c,d,x[i+5],5,-701558691);d=__subFx__gg(d,a,b,c,x[i+10],9,38016083);c=__subFx__gg(c,d,a,b,x[i+15],14,-660478335);b=__subFx__gg(b,c,d,a,x[i+4],20,-405537848);a=__subFx__gg(a,b,c,d,x[i+9],5,568446438);d=__subFx__gg(d,a,b,c,x[i+14],9,-1019803690);c=__subFx__gg(c,d,a,b,x[i+3],14,-187363961);b=__subFx__gg(b,c,d,a,x[i+8],20,1163531501);a=__subFx__gg(a,b,c,d,x[i+13],5,-1444681467);d=__subFx__gg(d,a,b,c,x[i+2],9,-51403784);c=__subFx__gg(c,d,a,b,x[i+7],14,1735328473);b=__subFx__gg(b,c,d,a,x[i+12],20,-1926607734);a=__subFx__hh(a,b,c,d,x[i+5],4,-378558);d=__subFx__hh(d,a,b,c,x[i+8],11,-2022574463);c=__subFx__hh(c,d,a,b,x[i+11],16,1839030562);b=__subFx__hh(b,c,d,a,x[i+14],23,-35309556);a=__subFx__hh(a,b,c,d,x[i+1],4,-1530992060);d=__subFx__hh(d,a,b,c,x[i+4],11,1272893353);c=__subFx__hh(c,d,a,b,x[i+7],16,-155497632);b=__subFx__hh(b,c,d,a,x[i+10],23,-1094730640);a=__subFx__hh(a,b,c,d,x[i+13],4,681279174);d=__subFx__hh(d,a,b,c,x[i+0],11,-358537222);c=__subFx__hh(c,d,a,b,x[i+3],16,-722521979);b=__subFx__hh(b,c,d,a,x[i+6],23,76029189);a=__subFx__hh(a,b,c,d,x[i+9],4,-640364487);d=__subFx__hh(d,a,b,c,x[i+12],11,-421815835);c=__subFx__hh(c,d,a,b,x[i+15],16,530742520);b=__subFx__hh(b,c,d,a,x[i+2],23,-995338651);a=__subFx__ii(a,b,c,d,x[i+0],6,-198630844);d=__subFx__ii(d,a,b,c,x[i+7],10,1126891415);c=__subFx__ii(c,d,a,b,x[i+14],15,-1416354905);b=__subFx__ii(b,c,d,a,x[i+5],21,-57434055);a=__subFx__ii(a,b,c,d,x[i+12],6,1700485571);d=__subFx__ii(d,a,b,c,x[i+3],10,-1894986606);c=__subFx__ii(c,d,a,b,x[i+10],15,-1051523);b=__subFx__ii(b,c,d,a,x[i+1],21,-2054922799);a=__subFx__ii(a,b,c,d,x[i+8],6,1873313359);d=__subFx__ii(d,a,b,c,x[i+15],10,-30611744);c=__subFx__ii(c,d,a,b,x[i+6],15,-1560198380);b=__subFx__ii(b,c,d,a,x[i+13],21,1309151649);a=__subFx__ii(a,b,c,d,x[i+4],6,-145523070);d=__subFx__ii(d,a,b,c,x[i+11],10,-1120210379);c=__subFx__ii(c,d,a,b,x[i+2],15,718787259);b=__subFx__ii(b,c,d,a,x[i+9],21,-343485551);a=__subFx__add(a,old_a);b=__subFx__add(b,old_b);c=__subFx__add(c,old_c);d=__subFx__add(d,old_d)}var bin=new Array(a,b,c,d);var tab="0123456789abcdef";var str="";for(var i=0;i<bin.length*4;i++){str+=tab.charAt((bin[i>>2]>>((i%4)*8+4))&15)+tab.charAt((bin[i>>2]>>((i%4)*8))&15)}return str};String.ASCII=8;String.UNICODE=16;if("abc".md5(String.ASCII,String.LOWERCASE)!="900150983cd24fb0d6963f7d28e17f72"){if(jCube.Debug.showWarnings){alert('"String.md5" method is not working properly!')}}jCube.Include.files["String.right"];
String.prototype.right=jCube.String.right=function(n){return this.substring(this.length-n)};jCube.Include.files["String.startsWith"];
jCube.String.startsWith=String.prototype.startsWith=function(keyword,ignoreCase){var _string=this;if(ignoreCase==true){_string=(_string+"").toLowerCase();keyword=(keyword+"").toLowerCase()}return _string.substring(0,keyword.length)==keyword};jCube.Include.files["String.substringIndex"];
String.prototype.substringIndex=jCube.String.substringIndex=function(delim,n){var delimPos=this.indexOf(delim);n=n||0;if(delimPos==-1){return this+""}if(n>-1){for(var i=1;i<n;i++){delimPos=this.indexOf(delim,delimPos+1);if(delimPos==-1){delimPos=this.length;break}}return this.substring(0,delimPos)}else{var str=this;n=Math.abs(n);for(var i=0;i<n;i++){delimPos=str.lastIndexOf(delim);str=str.substring(0,delimPos)}delimPos++;return this.substring(delimPos+delim.length-1)}return this};jCube.Include.files["String.toASCII"];
String.prototype.toASCII	= jCube.String.toASCII	= function () {return this.replace( /á|à|ã|â|ä/g,"a").replace( /Á|À|Ã|Â|Ä/g,"A").replace( /é|è|ê|ë/g,"e").replace( /É|È|Ê|Ë/g,"E").replace( /í|ì|î|ï/g,"i").replace( /Í|Ì|Î|Ï/g,"I").replace( /ó|ò|õ|ô|ö/g,"o").replace( /Ó|Ò|Õ|Ô|Ö/g,"O").replace( /ú|ù|û|ü/g,"u").replace( /Ú|Ù|Û|Ü/g,"U").replace( /ý|ÿ/g,"y").replace( /Ý|Ÿ/g,"Y").replace( /ç/g,"c").replace( /Ç/g,"C").replace( /ñ/g,"n").replace( /Ñ/g,"N");};jCube.Include.files["String.toCamelCase"];
String.prototype.toCamelCase=jCube.String.toCamelCase=function(){return this.replace(/-\D|-\d/g,function(s){return s.charAt(1).toUpperCase()}).replace(/\s\D|\s\d/g,function(s){return s.charAt(1).toUpperCase()})};jCube.Include.files["String.toFloat"];
String.prototype.toFloat=Number.prototype.toFloat=jCube.String.toFloat=function(alt){return parseFloat(this).check(alt||0)};jCube.Include("Number.check");jCube.Include.files["String.toInteger"];
jCube.String.toInteger=Number.prototype.toInteger=String.prototype.toInteger=function(alt){return Number(parseInt(this).check(alt||0))};jCube.Include("Number.check");jCube.Include.files["String.trim"];
String.prototype.trim=jCube.String.trim=function(){return this.replace(/^\s+|\s+$|^\n+|\n+$|^\t+|\t+$/g,"")};jCube.Include.files["Time.Chronometer"];
jCube.Time.Chronometer=(function(){jCube.Include("Function.delay");return function(options){if(this==window){return new jCube.Time.Chronometer(arguments[0])}options=options||{};this.paused=true;this.time=0;this.fps=options.fps||20;this.counterWise=false;var __startCount,__pauseTime,timeOut;this.update=function(){if(!this.paused){this.time=(new Date().getTime())-__startCount;if(this.counterWise){this.time*=-1;if(this.time<=0){this.time=0;this.paused=false;this.stop();if(this.onComplete){this.onComplete()}return this}}if(this.onChange){this.onChange()}if(!this.paused){if(timeOut){window.clearTimeout(timeOut)}timeOut=this.update.delay(1000/this.fps,this)}}return this};this.start=function(countReverse){this.paused=false;__pauseTime=0;__startCount=this.time=new Date().getTime();if(countReverse){this.counterWise=true;__startCount+=countReverse;this.time*=-1}else{this.counterWise=false}if(this.onStart){this.onStart()}this.update();return this};this.pause=function(){if(!this.paused){this.paused=true;__pauseTime=new Date().getTime()}return this};this.resume=function(){if(this.paused){__startCount=__startCount+((new Date().getTime())-__pauseTime);this.paused=false;this.update()}return this};this.stop=function(stopOnly){this.paused=true;this.time=((new Date().getTime())-__startCount);if(this.counterWise){this.time*=-1;if(this.time<=0){this.time=0;this.paused=true}}this.paused=true;__startCount=null;if(this.onStop&&stopOnly==false){this.onStop()}return this};this.onStart=options.onStart;this.onChange=options.onChange;this.onStop=options.onStop;this.onComplete=options.onComplete;return this}})(jCube);jCube.Include.files["Time.format"];
jCube.Time.format=function(mask,time){var date=new Date();if(time){date.setTime(time)}mask=mask||jCube.International.dateLongFormat;if(mask.indexOf("%f")>-1){mask=mask.replace(/\%f/g,date.getMilliseconds())}if(mask.indexOf("%S")>-1){var seconds=date.getSeconds()+"";if(seconds.length==1){seconds="0"+seconds}mask=mask.replace(/\%S/g,seconds)}if(mask.indexOf("%s")>-1){mask=mask.replace(/\%s/g,date.getSeconds())}if(mask.indexOf("%i")>-1){if(date.getMinutes()<60){var minutes=date.getMinutes()+"";if(minutes.length==1){minutes="0"+minutes}mask=mask.replace(/\%i/g,minutes)}else{mask=mask.replace(/\%i/g,"0")}}if(mask.indexOf("%I")>-1){var minutes=date.getMinutes()+"";if(minutes.length==1){minutes="0"+minutes}mask=mask.replace(/\%I/g,minutes)}if(mask.indexOf("%H")>-1){var hours=date.getHours()+"";if(hours.length==1){hours="0"+hours}mask=mask.replace(/\%H/g,hours)}if(mask.indexOf("%h")>-1){if(date.getHours<60){var hours=date.getHours();if(hours>12){hours-=12}if(hours==0){hours=24}hours+="";if(hours.length==1){hours="0"+hours}mask=mask.replace(/\%I/g,hours);mask=mask.replace(/\%h/g,hours)}else{mask=mask.replace(/\%I/g,"0");mask=mask.replace(/\%h/g,"0")}}if(mask.indexOf("%k")>-1){if(date.getHours()<60){mask=mask.replace(/\%k/g,date.getHours())}else{mask=mask.replace(/\%k/g,"0")}}if(mask.indexOf("%l")>-1){var hours=date.getHours();if(hours>12){hours-=12}if(hours==0){hours=12}hours+="";mask=mask.replace(/\%l/g,hours)}if(mask.indexOf("%T")>-1){var hours=date.getHours()+"",minutes=date.getMinutes()+"",seconds=date.getSeconds()+"";if(hours.length==1){hours="0"+hours}if(minutes.length==1){minutes="0"+minutes}if(seconds.length==1){seconds="0"+seconds}mask=mask.replace(/\%T/g,hours+":"+minutes+":"+seconds)}if(mask.indexOf("%r")>-1){var hours=date.getHours(),minutes=date.getMinutes()+"",seconds=date.getSeconds()+"",simbol;if(hours>11){simbol="PM"}else{simbol="AM"}if(hours>12){hours-=12}if(hours==0){hours=12;simbol="AM"}hours+="";if(hours.length==1){hours="0"+hours}if(minutes.length==1){minutes="0"+minutes}if(seconds.length==1){seconds="0"+seconds}if((date/1000/60/60)<=1){hours="00"}if((date/1000/60)<=1){minutes="00"}if((date/1000)<=1){seconds="00"}mask=mask.replace(/\%r/g,hours+":"+minutes+":"+seconds+" "+simbol)}if(mask.indexOf("%p")>-1){var hours=date.getHours(),simbol;if(hours>11){simbol="PM"}else{simbol="AM"}if(hours==0){hours=12;simbol="AM"}mask=mask.replace("%p",simbol)}if(mask.indexOf("%W")>-1){mask=mask.replace(/\%W/g,jCube.Date[jCube.International.language].weekdays[date.getDay()])}if(mask.indexOf("%a")>-1){mask=mask.replace(/\%a/g,jCube.Date[jCube.International.language].weekdays[date.getDay()].substring(0,3))}if(mask.indexOf("%d")>-1){var day=date.getDate()+"";if(day.length==1){day="0"+day}mask=mask.replace(/\%d/g,day)}if(mask.indexOf("%e")>-1){mask=mask.replace(/\%e/g,date.getDate())}if(mask.indexOf("%w")>-1){mask=mask.replace(/\%w/g,date.getDay())}if(mask.indexOf("%j")>-1){if((date/1000/60/60/24)>=1){var days=date.getDate(),month=date.getMonth(),months=[31,28,31,30,31,30,31,31,30,31,30,31];for(var i=0;i<month;i++){days+=months[i]}if(!(date.getFullYear()%400)){days++}mask=mask.replace(/\%j/g,days)}else{mask=mask.replace(/\%j/g,"0")}}if(mask.indexOf("%M")>-1){mask=mask.replace(/\%M/g,jCube.Date[jCube.International.language].months[date.getMonth()])}if(mask.indexOf("%b")>-1){mask=mask.replace(/\%b/g,jCube.Date[jCube.International.language].months[date.getMonth()].substring(0,3))}if(mask.indexOf("%c")>-1){mask=mask.replace(/\%c/g,date.getMonth())}if(mask.indexOf("%m")>-1){var month=(date.getMonth()+1)+"";if(month.length==1){month="0"+month}mask=mask.replace(/\%m/g,month)}if(mask.indexOf("%Y")>-1){mask=mask.replace(/\%Y/g,date.getFullYear())}if(mask.indexOf("%y")>-1){mask=mask.replace(/\%y/g,date.getYear().toString().substr(-2))}return mask};jCube.Include.files.Transition;
jCube.Transition=(function(jCube){jCube.Include("Element.getComputedStyle");jCube.Include("Element.getData");jCube.Include("Element.getStyle");jCube.Include("Element.setData");jCube.Include("Element.setStyle");jCube.Include("Event.runOnce");jCube.Include("Event.trigger");jCube.Include("Math.getCubicBezier");jCube.Include("Math.ruleOfThree");jCube.Include("Number.add");jCube.Include("Number.limit");jCube.Include("Number.multiply");jCube.Include("Number.pow");jCube.Include("Number.round");jCube.Include("Number.sqrt");jCube.Include("String.toInteger");var transition=function(props){this.obj=props.obj;this.duration=props.duration||800;this.delay=props.delay||0;this.transition=props.transition||jCube.Transition.DEFAULT;this.fps=props.fps||jCube.Transition.FRAMES_PER_SECOND;this.getPoint=jCube.Transition.getPoint;this.main=this.obj;this.stop=function(){};this.start=function(props){this.properties=[];var crr;for(var i in props){if(props[i][1]!=null){crr=[];crr.name=i;crr.from=props[i][0];crr.to=props[i][1];crr.customMethod=props[i][2];this.properties.push(crr)}}var superObj=this;var delay=this.delay;this.timeout=window.setTimeout(function(){Transiting.call(superObj)},delay);var started=false;this.stop=function(){window.clearTimeout(this.timeout);this.tellapsed=this.duration;superObj=null};function Transiting(){var props=this.properties,obj=this.obj;if(!started){superObj.tstart=new Date().getTime();superObj.tellapsed=0;superObj.transition=superObj.transition||jCube.Transition.DEFAULT;superObj.fps=superObj.fps||jCube.Transition.FRAMES_PER_SECOND;superObj.duration=superObj.duration||800;superObj.onStart=superObj.onStart||function(){};superObj.onChange=superObj.onChange||function(){};superObj.onComplete=superObj.onComplete||function(){};superObj.onStart.call(obj,props[0].from,0);this.onChange.call(obj,props[0].from,0);started=true}if(!obj){return }var t=(new Date().getTime()-this.tstart),duration=obj.duration||this.duration,transition=obj.transition||this.transition;this.tellapsed=t;delay=0;if(t>duration){t=duration}else{if(t<0){t=0}}if(!props){return }var range,x,reverse;for(var i=0;i<props.length;i++){range=props[i].to-props[i].from;if(range){x=jCube.Transition.getPoint(t,duration,range,transition);if(transition==jCube.Transition.PINGPONG&&(props[i].from>props[i].to)){x=props[i].from-x}else{x+=props[i].from}if(props[i].customMethod){props[i].customMethod.call(obj,x,t)}else{jCube(obj).setStyle(props[i].name,x)}}}this.x=x;this.onChange.call(obj,x,t);if(t==duration){this.stop();this.onComplete.call(obj,x,t)}else{this.timeout=window.setTimeout(function(){Transiting.call(superObj)},(1000/this.fps).round())}}return this};return this};transition.Implements=function(props){props.css=props.css||[];props.setters=props.setters||[];var trans=props.obj.getData("transition::"+props.name);if(trans){trans.stop()}else{trans=new jCube.Transition({obj:props.obj});props.obj.setData("transition::"+props.name,trans)}trans.duration=props.duration;trans.transition=props.transition;trans.delay=props.delay;trans.obj=props.obj;trans.fps=props.fps;if(props.onStart||props[props._onStart]){props.obj.runOnce(props._onStart,(props.onStart||props[props._onStart]))}if(props.onChange||props[props._onChange]){props.obj.addEvent(props._onChange,(props.onChange||props[props._onChange]))}if(props.onComplete||props[props._onComplete]){props.obj.runOnce(props._onComplete,(props.onComplete||props[props._onComplete]))}var origs=[];function GetCrrValues(obj,eventName,t){var args=[props[eventName]];for(var i=0,css=props.css,len=css.length;i<len;i++){args[i+1]=obj.getStyle(css[i]).toInteger()}for(var i=0,setters=props.setters,len=setters.length;i<len;i++){args[i+1]=obj[setters[i]].toInteger()}args[args.length]=t;return args}trans.onStart=function(x,t){this.trigger.apply(this,GetCrrValues(this,"_onStart",t))};trans.onChange=function(x,t){this.trigger.apply(this,GetCrrValues(this,"_onChange",t))};trans.onComplete=function(x,t){this.trigger.apply(this,GetCrrValues(this,"_onComplete",t));if(props.onChange||props[props._onChange]){this.removeEvent(props._onChange,(props.onChange||props[props._onChange]))}};var prop={};for(var i=0,crr;i<props.css.length;i++){if(props.origs){origs[i]=props.origs[i]}else{origs[i]=(props.obj.getComputedStyle(props.css[i])||props.obj.style[props.css[i]]||"0").toInteger()}crr={};crr[props.css[i]]=[origs[i],props.dest[i]];jCube.Object.merge.call(prop,crr)}for(var i=0,crr;i<props.setters.length;i++){if(props.origs){origs[i]=props.origs[i]}else{origs[i]=props.obj[props.setters[i]].toInteger()}crr={};crr[props.setters[i]]=[origs[i],props.dest[i]];jCube.Object.merge.call(prop,crr)}if(jCube.Debug.displayErrors){if((props.css.length+props.setters.length)!=props.dest.length){throw new Error("props.dest.length and props.css.length is diferent!")}for(var i=0,len=props.css.length+props.setters.length;i<len;i++){if(typeof props.dest[i]!="number"){throw new Error("props.dest["+i+"] is not a number!")}else{if(typeof origs[i]!="number"){throw new Error("destination css property value was not detected as a number!")}}}}trans.start(prop);return props.obj};transition.getPoint=function(tellapsed,duration,range,transition,c,effect){var x=(range/duration)*(tellapsed),X=(range/duration)*(duration-tellapsed),result=x;effect=Math.floor(effect||2);switch(transition){case this.LINEAR:result=x;break;case this.ACUTE:result=range-(X.pow(1+effect)/range.pow(effect));break;case this.CIRCUNFLEX:result=(x.pow(1+effect)/range.pow(effect));break;break;case this.BOUNCE_FORTH:result=(x.pow(2+effect)/-range.pow(1+effect))+2*x;break;case this.BOUNCE_BACK:result=range-((X.pow(2+effect)/-range.pow(1+effect))+2*X);break;case this.PINGPONG:x=range-((range.multiply(2)/duration)*tellapsed);result=(range.pow(2)-x.pow(2)).limit(0).sqrt();break;case this.BOUNCE:var value,p=tellapsed/duration;for(var a=0,b=1;1;a+=b,b/=2){if(p>=(7-4*a)/11){value=-Math.pow((11-6*a-11*p)/4,2)+b*b;break}}result=range*value;break;case this.ELASTIC:result=range*(Math.pow(2,10*((tellapsed/duration)-1))*Math.cos(20*((tellapsed/duration)-1)*Math.PI*1/3));break;case this.CIRCLE:result=(range.pow(2)-(range-x).pow(2)).sqrt();break;case this.COUNTER_CIRCLE:result=range-(range.pow(2)-x.pow(2)).sqrt();break;default:if(typeof transition=="object"&&transition.isArray){result=Math.ruleOfThree(1,range,Math.getCubicBezier(tellapsed/duration,transition[0],transition[1],transition[2],transition[3],transition[4]))}else{result=Math.ruleOfThree(1,range,Math.getCubicBezier(tellapsed/duration,this.DEFAULT[0],this.DEFAULT[1],this.DEFAULT[2],this.DEFAULT[3],this.DEFAULT[4]))}break}return result.add(c||0)};transition.merge(jCube.Transition).merge({DEFAULT:[0.25,0.1,0.25,1],LINEAR:[0,0,1,1],EASE_IN:[0.42,0,1,1],EASE_OUT:[0,0,0.58,1],EASE_IN_OUT:[0.42,0,0.58,1],CUBIC_BEZIER:[0,1,1,0],ACUTE:[0.93,0.36,1,0.42],CIRCUNFLEX:[0,0.5,0,0.93],BOUNCE_BACK:[0.65,-0.63,0.25,1],BOUNCE_FORTH:[0.75,0,0.35,1.63],BOUNCE:[0,0.18,0,0.63,0,0.251,0,1],ELASTIC:[0,0.18,0,0.63,0,0.251,0,2],PINGPONG:[0,1],FRAMES_PER_SECOND:60});return transition})(jCube);jCube.Include.files["Transition.boundTo"];
jCube.Transition.boundTo=(function(jCube){jCube.Include("String.toInteger");jCube.Include("Transition");jCube.Include("Window");return jCube.Element.Implements({name:"boundTo",disallow:["BODY","WINDOW","DOCUMENT"],method:function(left,top,width,height,duration,transition,onComplete){var props=left;if(typeof left!="object"){props={left:left,top:top,width:width,height:height,duration:duration,transition:transition,onComplete:onComplete}}return jCube.Transition.Implements(props.merge({obj:this,name:"boundTo",css:["left","top","width","height"],dest:[props.left||0,props.top||0,props.width||0,props.height||0],_onStart:"onBoundStart",_onChange:"onBound",_onComplete:"onBoundComplete"}))}})})(jCube);jCube.Include.files["Transition.fadeIn"];
jCube.Transition.fadeIn=(function(jCube){jCube.Include("Array.contains");jCube.Include("Element.getOpacity");jCube.Include("Element.setStyle");jCube.Include("Transition");return jCube.Element.Implements({name:"fadeIn",disallow:["BODY","WINDOW","DOCUMENT"],method:function(duration,transition,onComplete){var props=arguments[0];if(typeof duration!="object"){props={duration:duration,transition:transition,onComplete:onComplete}}if(this.getComputedStyle("display")=="none"||this.getComputedStyle("display")=="hidden"){this.setStyle({opacity:0,visibility:"visible"});if(!this.style.display||!this.style.display.length){this.setStyle("display",(["DIV","H1","H1","H3","H4","H5","H6","P","UL","OL","DL","LI","DT","DT","TABLE","BLOCKOTE","PRE","FORM"].contains(this.nodeName))?"block":"inline")}}else{this.setStyle("opacity",this.getOpacity())}return jCube.Transition.Implements(props.merge({obj:this,name:"fadeIn",css:["opacity"],dest:[props.opacity!=null?props.opacity:1],origs:[this.getOpacity()],_onStart:"onFadeInStart",_onChange:"onFadeIn",_onComplete:"onFadeInComplete"}))}})})(jCube);jCube.Include.files["Transition.fadeOut"];
jCube.Transition.fadeOut=(function(jCube){jCube.Include("Element.getOpacity");jCube.Include("Element.setStyle");jCube.Include("Transition");return jCube.Element.Implements({name:"fadeOut",disallow:["BODY","WINDOW","DOCUMENT"],method:function(duration,transition,onComplete){var props=arguments[0];if(typeof duration!="object"){props={duration:duration,transition:transition,onComplete:onComplete}}if(this.getComputedStyle("display")=="none"||this.getComputedStyle("display")=="hidden"){this.setStyle("opacity",0)}return jCube.Transition.Implements(props.merge({obj:this,name:"fadeIn",css:["opacity"],dest:[props.opacity!=null?props.opacity:0],origs:[this.getOpacity()],_onStart:"onFadeOutStart",_onChange:"onFadeOut",_onComplete:"onFadeOutComplete"}))}})})(jCube);jCube.Include.files["Transition.moveBackground"];
jCube.Transition.moveBackground=(function(jCube){jCube.Include("Element.setBackgroundPosition");jCube.Include("Element.setData");jCube.Include("Event.trigger");jCube.Include("String.toInteger");jCube.Include("Transition");return jCube.Element.Implements({name:"moveBackground",method:function(options){var trans=this.getData("transition::moveBackground");if(trans&&trans.stop){trans.stop()}options.toX=options.toX||options.toX===0?options.toX:null;options.toY=options.toY||options.toY===0?options.toY:null;if(!trans){trans=new jCube.Transition(jCube.Object.merge.call(options,{obj:this}));this.setData("transition::moveBackground",trans)}trans=jCube.Object.merge.call(trans,options);trans.duration=options.duration||800;trans.fps=options.fps||10;var crrX=options.x||0,crrY=options.y||0;trans.onChange=function(x){this.trigger("onMoveBackground",x)};trans.onStart=function(x){this.trigger("onMoveBackgroundStart",x)};trans.onFinish=function(x){this.trigger("onMoveBackgroundComplete",x)};var fromX=this.style.backgroundPosition.split(" ")[0]||"";var fromY=this.style.backgroundPosition.split(" ")[1]||"";if(options.toX!==null&&options.toY===null){options.fromX=fromX.toInteger(0);trans.start({x:[options.fromX,options.toX,function(x){crrX=x;this.setBackgroundPosition(crrX,null)}]})}else{if(options.toY!==null&&options.toX===null){options.fromY=fromY.toInteger(0);trans.start({y:[options.fromY,options.toY,function(y){crrY=y;this.setBackgroundPosition(null,crrY)}]})}else{options.fromX=fromX.toInteger(0);options.fromY=fromY.toInteger(0);trans.start({x:[options.fromX,options.toX,function(x){crrX=x;this.setBackgroundPosition(crrX,crrY)}],y:[options.fromY,options.toY,function(y){crrY=y;this.setBackgroundPosition(crrX,crrY)}]})}}return this}})})(jCube);jCube.Include.files["Transition.moveTo"];
jCube.Transition.moveTo=(function(jCube){jCube.Include("String.toInteger");jCube.Include("Transition");return jCube.Element.Implements({name:"moveTo",disallow:["BODY","WINDOW"],method:function(left,top,duration,transition,onComplete){var props=left;if(typeof left!="object"){props={left:left,top:top,duration:duration,transition:transition,onComplete:onComplete}}props.fromLeft=props.fromLeft==null?this.style.left.toInteger(this.offsetLeft):props.fromLeft;props.fromTop=props.fromTop==null?this.style.top.toInteger(this.offsetTop):props.fromTop;return jCube.Transition.Implements(props.merge({obj:this,name:"moveTo",css:["left","top"],dest:[props.left||0,props.top||0],origs:[props.fromLeft,props.fromTop],_onStart:"onMoveStart",_onChange:"onMove",_onComplete:"onMoveComplete"}))}})})(jCube);jCube.Include.files["Transition.resizeTo"];
jCube.Transition.resizeTo=(function(jCube){jCube.Include("Transition");return jCube.Element.Implements({name:"resizeTo",disallow:["BODY","WINDOW"],method:function(width,height,duration,transition,onComplete){var props=width;if((width!=null&&typeof width!="object")||(height!=null&&typeof height!="object")){props={width:width,height:height,duration:duration,transition:transition,onComplete:onComplete}}var css=[],dest=[];if(props.width!=null){css.push("width");dest.push(props.width||0)}if(props.height!=null){css.push("height");dest.push(props.height||0)}return jCube.Transition.Implements(props.merge({obj:this,name:"resizeTo",css:css,dest:dest,_onStart:"onResizeStart",_onChange:"onResize",_onComplete:"onResizeComplete"}))}})})(jCube);jCube.Include.files["Transition.scrollTo"];
jCube.Transition.scrollTo=(function(jCube){jCube.Include("Element.getOffset");jCube.Include("Transition");jCube.Include("Window");return jCube.Element.Implements({name:"scrollTo",disallow:["WINDOW","DOCUMENT"],method:function(options){var fromY,fromX,trans,props={};if(this==document.body){fromY=Math.max(this.scrollTop,window.getScrollTop());fromX=Math.max(this.scrollLeft,window.getScrollLeft())}else{fromY=this.scrollTop;fromX=this.scrollLeft}var obj=null,left=null,top=null,index=3;if(options&&options.nodeName){obj=options}else{if(typeof options=="object"){obj=options.obj;props=options}}if(obj){var bounds=jCube(obj).getOffset();left=bounds.left+window.getScrollLeft();top=bounds.top+window.getScrollTop();console.log(fromX+" : "+fromY+"\n"+left+" : "+top+"\n"+obj.id)}else{left=options.x===null?left:(typeof arguments[0]=="number"?arguments[0]:options.x);top=options.y===null?top:(typeof arguments[1]=="number"?arguments[1]:options.y)}return jCube.Transition.Implements(props.merge({obj:this,name:"scrollTo",setters:["scrollLeft","scrollTop"],origs:[fromX,fromY],dest:[left,top],_onStart:"onScrollStart",_onChange:"onScroll",_onComplete:"onScrollComplete"}))}})})(jCube);jCube.Include.files["UI.CreateContextMenu"];
jCube.UI.CreateContextMenu=(function(jCube){jCube.Include("Array.each");jCube.Include("Element.addClass");jCube.Include("Element.appendTo");jCube.Include("Element.getElementsBySelector");jCube.Include("Element.injectChild");jCube.Include("Element.remove");jCube.Include("Element.setHTML");jCube.Include("Element.setPositionByCoordinates");jCube.Include("Element.setStyle");jCube.Include("Event");jCube.Include("Function.inherits");jCube.Include("String.contains");jCube.Include("Time.Chronometer");jCube.Include("Transition.fadeIn");jCube.Include("Transition.fadeOut");jCube.Include("Window");document.createElement("NAV");var crrMenu;var crrMain;var chronOpenMenu;var chronCloseMenu;var glassPane=document.createElement("DIV");glassPane.onclick=function(){this.remove();crrMain.closeAll()};return function enclosure(){jCube(glassPane).addClass("glassPane").setStyle({position:"fixed",opacity:0,left:0,top:0,zIndex:999999,cursor:"default"});this.eMenu;this.init=function(options){this.merge(options);this.menuShowDelay=this.menuShowDelay||450;this.menuCloseDelay=this.menuCloseDelay||600;this.menuShowDuration=this.menuShowDuration||600;this.menuCloseDuration=this.menuCloseDuration||600;crrMenu=this.eMenu;return this};this.createMenu=function(data){var holder=jCube(document.createElement("NAV")).addClass("eMenuFolderOptions");var html="";var ccm=this;var useLinks=this.useLinks||false;data.each(function(){var _useLinks=this.apply===null?useLinks:useLinks;if(_useLinks){_useLinks=["A","SPAN"]}else{_useLinks=["DIV","DIV"]}var row=jCube(document.createElement(_useLinks[0])).addClass((typeof this.data=="object"?"row-folder":(!this.title&&!this.icon&&!this.data?"row-separator":"row-file"))).appendTo(holder);if(this.href){row.href=this.href}else{if(_useLinks){row.href=""}}if(0&&this.onClick){var click=this.onClick;row.onclick=function(e){return click.call(row,jCube.Event(e))}}var type;if(!this.title&&!this.icon&&!this.data){type=row.type="separator"}else{row.eIcon=jCube(document.createElement(_useLinks[1])).addClass("icon").setHTML((this.icon?'<img src="'+this.icon+'" alt="" />':false)||"&nbsp;").appendTo(row);row.eTitle=jCube(document.createElement(_useLinks[1])).addClass("title").setHTML(this.title||"&nbsp;").appendTo(row);row.eOption=jCube(document.createElement(_useLinks[1])).addClass("option").setHTML((typeof this.data=="object"?("&nbsp;"):this.data||"&nbsp;")).appendTo(row)}if(typeof this.data=="object"){row.eOption.data=this.data;row.addEvent("onmouseover",function(e){if(!this.eOption.eMenu){this.eOption.eMenu=ccm.createMenu(this.eOption.data);this.eOption.eMenu.parentRow=this;this.eOption.eMenu.parentMenu=holder}if(!this.eOption.eMenu.parentNode||!this.eOption.eMenu.parentNode.parentNode){if(!chronOpenMenu){chronOpenMenu=new jCube.Time.Chronometer({fps:10});chronOpenMenu.onComplete=function(){window.clearTimeout(chronCloseMenu);var searchMenu=crrMenu;if(chronCloseMenu){chronCloseMenu.stop()}this.row.addClass("opened");ccm.show(e,this.eMenu);this.eMenu.parentMenu.openChildMenu=this.eMenu}}chronOpenMenu.row=this;chronOpenMenu.eMenu=this.eOption.eMenu;chronOpenMenu.start(ccm.menuShowDelay)}});row.type="folder"}else{if(type!="separator"){row.type="file"}}row.addEvent("onmouseover",function(e){if(ccm.onOver){ccm.onOver(this)}this.addClass("over");if(!chronCloseMenu){chronCloseMenu=new jCube.Time.Chronometer({fps:10,onStart:function(){this.menuHasStarted=true},onChange:function(){},onComplete:function(){ccm.close();this.menuHasStarted=false}})}if(!this.className.contains("opened")&&crrMenu!=holder){if(chronCloseMenu.menuHasStarted){chronCloseMenu.resume()}else{chronCloseMenu.start(ccm.menuCloseDelay)}}else{if(crrMenu==holder){chronCloseMenu.menuHasStarted=false}chronCloseMenu.pause()}});row.addEvent("onmouseout",function(e){if(ccm.onOut){ccm.onOut(this)}if(chronOpenMenu){chronOpenMenu.stop()}if(this.className.contains("row-folder")){if(!this.eOption.eMenu||!this.eOption.eMenu.parentNode||!this.eOption.eMenu.parentNode.parentNode){this.removeClass("opened")}}this.removeClass("over")});row.addEvent("onmousedown",function(e){var returnValueFromEvent=true;if(ccm.onClick){returnValueFromEvent=ccm.onClick(this,e)}if(chronOpenMenu&&chronOpenMenu.time>0){chronOpenMenu.stop();chronOpenMenu.onComplete()}if(this.type=="file"&&returnValueFromEvent!==false){this.removeClass("over");ccm.closeAll()}})});holder.onFadeOutComplete=function(){this.remove()};return holder};this.show=function(e,eMenu,__objTrigger){if(eMenu&&eMenu.parentMenu&&eMenu.parentMenu.openChildMenu){var crrChild=eMenu.parentMenu.openChildMenu;if(crrChild!=eMenu){while(crrChild){this.close(crrChild);crrChild=crrChild.openChildMenu}}}crrMain=this;crrMenu=eMenu||crrMenu;if(glassPane.parentNode!=document.body){glassPane.setStyle({width:window.getWidth(),height:window.getHeight()}).appendTo(document.body)}(eMenu||this.eMenu).appendTo(document.body).setPositionByCoordinates(e,(eMenu?eMenu.parentRow:null)).setStyle("opacity",0).setStyle("zIndex",1000000).fadeIn(this.menuShowDuration);if(this.onOpen){this.onOpen(crrMenu)}if(!eMenu||!eMenu.parentMenu){if(this.onMainOpen){this.onMainOpen(eMenu,__objTrigger,e)}}e.stop();return this};this.close=function(__crrMenu,plusDelay){if(__crrMenu){crrMenu=__crrMenu}crrMenu.fadeOut(this.menuCloseDuration+plusDelay);if(crrMenu.parentRow){crrMenu.parentRow.removeClass("opened")}if(this.onClose){this.onClose(crrMenu)}if(crrMenu.parentMenu){crrMenu=crrMenu.parentMenu}return this};this.closeAll=function(){if(glassPane.parentNode&&glassPane.parentNode.parentNode){glassPane.remove()}var count=1;while(crrMenu.parentMenu){this.close(null,250*count++)}this.close(null,250*count++);if(this.onMainClose){this.onMainClose()}return this};this.getMenu=function(){return crrMenu};this.addTriggerTo=function(obj,trigger){var main=this;jCube(obj).addEvent((trigger||"oncontextmenu"),function(e){main.show(e,main.eMenu,this)})};return this}})(jCube);jCube.Include.files["UI.Grid"];
jCube.UI.Grid=(function(jCube){jCube.Include("Browser");jCube.Include("Element.addClass");jCube.Include("Element.getBorderWidth");jCube.Include("Element.getFirstChild");jCube.Include("Element.getLastChild");jCube.Include("Element.getNextSibling");jCube.Include("Element.getNodeIndex");jCube.Include("Element.getOffset");jCube.Include("Element.getOption");jCube.Include("Element.getParent");jCube.Include("Element.getPreviousSibling");jCube.Include("Element.injectAfter");jCube.Include("Element.injectBefore");jCube.Include("Element.prependTo");jCube.Include("Element.remove");jCube.Include("Element.removeClass");jCube.Include("Element.setClass");jCube.Include("Element.setDraggable");jCube.Include("Element.setFocus");jCube.Include("Element.setHTML");jCube.Include("Element.setProperty");jCube.Include("Element.setSelection");jCube.Include("Element.setStyle");jCube.Include("Element.setValue");jCube.Include("Event.add");jCube.Include("Event.trigger");jCube.Include("Function.inherits");jCube.Include("Number.isBetween");jCube.Include("Number.format");jCube.Include("Number.round");jCube.Include("String.toFloat");jCube.Include("Transition.moveTo");jCube.Include("Transition.resizeTo");return function enclosure(){var __allowSort=true;var glassPane=jCube(document.createElement("DIV")).setStyle({position:"fixed",left:0,top:0,background:"transparent",zIndex:"1000000",cursor:"default",UserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"});this.eMain=null;this.eHead=null;this.eBody=null;this.eColumns=[];this.init=function(options){var grid=jCube(options.grid);this.eMain=grid;this.eHead=grid.query(":.head");this.eBody=grid.query(":.body");this.eColumns=this.eHead.query("::.group div:not(div:first-child), .group div.double:first-child");this.eHead.query("::.group > div").setProperty("parent",this);this.eHead.query("::.group").setProperty("parent",this);this.eBody.query("::.g-col").setProperty("parent",this);(function(){var eHeadCol=null,eBodyCol=null,eBodyColGroup=null,crrColHeadWidth=0;var eHeadClone=jCube(document.createElement("DIV")).setStyle({}).addClass("group clonned").setHTML('<div class="g-col double" ></div>');var eHeadClone2=jCube(eHeadClone.cloneNode(true));eHeadClone2.addClass("original-position").getFirstChild().onResize=function(){eHeadClone.getFirstChild().setStyle("width",Math.max(crrColHeadWidth-this.style.width.toInteger(),0));eBodyClone2.setStyle("width",eHeadClone2.getFirstChild().style.width.toInteger()-2);eBodyClone.setStyle("width",eHeadClone.getFirstChild().style.width.toInteger()-2)};var eBodyClone=jCube(document.createElement("DIV")).setStyle({}).addClass("g-col clonned").setHTML("&nbsp;");var eBodyClone2=jCube(eBodyClone.cloneNode(true));eBodyClone2.addClass("original-position");var collects,cols,_lastFoundCollect,_isMultiCols;this.eHead.query("::.group div.g-col:first-child, .group div.double:first-child").each(function(){this.getParent().setDraggable({handle:this,bounds:function(){return[0,this.getParent().offsetWidth-this.offsetWidth,0,0]},delay:500,onStart:function(e){eHeadCol=this;_isMultiCols=!this.getFirstChild().className.contains("double");eBodyCol=this.parent.getColBody(this.getFirstChild());eBodyColGroup=_isMultiCols?this.parent.getColsBody(this.getFirstChild()):[eBodyCol];this.setStyle({left:this.offsetLeft,position:"absolute"});for(var i=0;i<eBodyColGroup.length;i++){eBodyColGroup[i].setStyle({left:this.offsetLeft,position:"absolute"})}eHeadClone.injectBefore(this).getFirstChild().setStyle({width:this.offsetWidth-2});eHeadClone2.injectBefore(this).getFirstChild().setStyle({width:0});eBodyClone.injectBefore(eBodyCol).setStyle({width:this.offsetWidth-2,height:eBodyCol.offsetHeight});eBodyClone2.injectBefore(eBodyCol).setStyle({width:0,height:eBodyCol.offsetHeight});this.appendTo(this.parentNode);for(var i=0;i<eBodyColGroup.length;i++){eBodyColGroup[i].appendTo(eBodyColGroup[0].parentNode)}crrColHeadWidth=this.offsetWidth-2;this.addClass("col-dragging");for(var i=0,lastWidth=0;i<eBodyColGroup.length;i++){eBodyColGroup[i].setStyle("left",this.offsetLeft+lastWidth).addClass("col-dragging");lastWidth+=eBodyColGroup[i].offsetWidth}cols=this.parent.eHead.query("::.group");collects=[];for(var i=0,crr,p1,p2;i<cols.length;i++){crr=cols[i];if(crr!=this&&!crr.className.contains("clonned")){collects.push([crr,"B",crr.offsetLeft,crr.offsetLeft+crr.offsetWidth/2]);collects.push([crr,"A",crr.offsetLeft+crr.offsetWidth/2,crr.offsetLeft+crr.offsetWidth])}}__allowSort=false},onDrag:function(){for(var i=0,lastWidth=0;i<eBodyColGroup.length;i++){eBodyColGroup[i].setStyle("left",this.style.left.toInteger()+lastWidth);lastWidth+=eBodyColGroup[i].offsetWidth}collects.crr=this.offsetLeft+this.offsetWidth/2;for(var i=0,idxs=[];i<collects.length;i++){if(collects.crr.isBetween(collects[i][2],collects[i][3])){if((collects[i][1]=="A"&&this.getPreviousSibling()!=this&&_lastFoundCollect!=collects[i])||(collects[i][1]=="B"&&this.getNextSibling()!=this&&_lastFoundCollect!=collects[i])){_lastFoundCollect=collects[i];var bCols=this.parent.eBody.query("::div > .g-col");if(collects[i][1]=="A"){if(eHeadClone2.getPreviousSibling()!=collects[i][0]){eHeadClone.injectBefore(eHeadClone2);eHeadClone2.injectAfter(collects[i][0]).getFirstChild().setStyle("width",2).resizeTo(this.offsetWidth,null,500);idxs=[this.parent.getColumnIndex(eHeadClone.getFirstChild()),this.parent.getColumnIndex(eHeadClone2.getFirstChild())];eBodyClone.injectAfter(bCols[idxs[0]]);eBodyClone2.injectAfter(this.parent.getColBody(eHeadClone2.getFirstChild())).setStyle("width",0)}}else{if(collects[i][1]=="B"){if(eHeadClone2.getNextSibling()!=collects[i][0]){eHeadClone.injectBefore(eHeadClone2);eHeadClone2.injectBefore(collects[i][0]).getFirstChild().setStyle("width",2).resizeTo(this.offsetWidth,null,500);idxs=[this.parent.getColumnIndex(eHeadClone.getFirstChild()),this.parent.getColumnIndex(eHeadClone2.getFirstChild())];eBodyClone.injectBefore(bCols[idxs[0]]);eBodyClone2.injectBefore(this.parent.getColBody(eHeadClone2.getFirstChild())).setStyle("width",0)}}}}break}}},onComplete:function(e){__allowSort=true;this.removeClass("col-dragging").setStyle({position:"",left:""});eHeadClone.removeClass("original-position");eHeadCol.injectBefore(eHeadClone2).setStyle({left:""});for(var i=0;i<eBodyColGroup.length;i++){eBodyColGroup[i].injectBefore(eBodyClone2).removeClass("col-dragging").setStyle({position:"",left:""})}eHeadClone.remove();eHeadClone2.remove();eBodyClone.remove();eBodyClone2.remove();eHeadCol.parent.eMain.trigger("onGridColDragComplete",eHeadCol,e)}})})}).call(this);(function(){var crrHeadCol=null,crrBodyCol,__groupResStartWidth,__mouseMove,__mouseUp,startWidth,startX,maxWidth,minWidth,borderWidth,fullWidth;this.eHead.query("::.group .g-col").addEvent("onmousemove",function(e){var w=this.offsetWidth;var l=this.offsetLeft;var x=e.x;if(e.target&&(e.target.nodeName=="A"||e.target.parentNode.nodeName=="A"||e.target.parentNode.parentNode.nodeName=="A")){this.__resizeObj=null;return }if(this.unresizable||crrHeadCol){return }e.layerX=(e.clientX-jCube(e.target).getOffset(document.body).left);if(w-e.layerX<10||(e.layerX<10&&((this.getPreviousSibling()&&!this.getPreviousSibling().className.contains("g-title"))||this.getParent().getPreviousSibling()))){this.__resizeObj={dir:w-e.layerX<=10?"l":"r"};this.style.cursor="col-resize"}else{this.__resizeObj=null;this.style.cursor=""}});this.eHead.query("::.group .g-col").addEvent("onmousedown",function(e){if(this.__resizeObj){__allowSort=false;crrHeadCol=this;__groupResStartWidth=null;crrHeadCol.getParent().trigger("stopDragging");if(this.__resizeObj.dir=="r"){if(!this.getPreviousSibling()||this.getPreviousSibling().className.contains("g-title")){crrHeadCol=this.getParent().getPreviousSibling().getLastChild()}else{crrHeadCol=this.getPreviousSibling()}}else{if(!this.getPreviousSibling()&&this.getNextSibling()&&this.getNextSibling().className.contains("g-col")){crrHeadCol=this.getParent().getLastChild();__groupResStartWidth=this.getParent().style.width.toInteger(this.getParent().offsetWidth)}}crrBodyCol=this.parent.getColBody(crrHeadCol);__mouseMove=document.onmousemove;__mouseUp=document.onmouseup;document.onmousemove=ResizeOnMouseMove;document.onmouseup=ResizeOnMouseUp;glassPane.setStyle({width:window.getWidth(),height:window.getHeight(),cursor:"col-resize"}).appendTo(document.body);jCube(document.body).setStyle({UserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"});startWidth=crrHeadCol.offsetWidth;startX=e.screenX;maxWidth=crrHeadCol.className.contains("maxwidth-")?crrHeadCol.className.match(/maxwidth\-([0-9]+)/)[1]:window.screen.availWidth*10;minWidth=crrHeadCol.className.contains("minwidth-")?crrHeadCol.className.match(/minwidth\-([0-9]+)/)[1]:1;borderWidth=crrHeadCol.getBorderWidth("right");fullWidth=2;this.parent.eColumns.each(function(){fullWidth+=this.offsetWidth})}},true);function ResizeOnMouseMove(e){if(crrHeadCol){var w=Math.min(maxWidth,Math.max(minWidth,startWidth+jCube.Event(e).screenX-startX));crrHeadCol.setStyle("width",w);crrBodyCol.setStyle("width",w+borderWidth);crrHeadCol.parent.eHead.setStyle("width",fullWidth-(startWidth-w));crrHeadCol.parent.eBody.setStyle("width",fullWidth-(startWidth-w))}}function ResizeOnMouseUp(e){if(crrHeadCol){crrHeadCol.parent.eMain.trigger("onGridColResizeComplete",crrHeadCol,jCube.Event(e));crrHeadCol.__resizeObj=null;crrHeadCol=null;document.onmousemove=__mouseMove;document.onmouseup=__mouseUp;__mouseMove=__mouseUp=null;glassPane.setStyle({cursor:"default"}).remove();window.setTimeout(function(){__allowSort=true},50);jCube(document.body).setStyle({UserSelect:"",MozUserSelect:"",WebkitUserSelect:""})}}}).call(this);(function(){var crrCellFocused=null;var eInput=null;var crrValue=null;this.removeEditableContent=function(){if(crrCellFocused){var colHead=this.getColHead(crrCellFocused);var Type=this.getColType(colHead);var modValue=null;switch(Type.type){case"enum":var value=Type.eEnum.query(":select").getOption().innerHTML;Type.eEnum.remove();crrCellFocused.setHTML(value);modValue=value;break;case"float":case"currency":var value=eInput.value;eInput.remove();var eSpan=crrCellFocused.eEditableHolder.query(":span");crrCellFocused.eEditableHolder.setHTML(eInput.value.replace(",",".").toFloat().format(eInput.casas));if(eSpan){eSpan.remove().prependTo(crrCellFocused.eEditableHolder)}crrCellFocused.appendChild(crrCellFocused.eEditableHolder);modValue=eInput.value;break;case"string":var value=eInput.value;eInput.remove();crrCellFocused.setHTML(value);modValue=value;break}if(crrValue!=modValue){this.eMain.trigger("onGridCellChange",crrCellFocused,this);crrValue=modValue}crrCellFocused=null}return this};this.eBody.query("::div > .g-col").addEvent("onclick",function(e){var crrCell=jCube(e.target);while(crrCell&&jCube(crrCell).getParent()&&!jCube(crrCell).getParent().className.contains("g-col")){crrCell=crrCell.getParent()}if(crrCellFocused==crrCell){return }var colHead=this.parent.getColHead(crrCell);if(crrCell&&jCube(crrCell).getParent()&&crrCell.getParent().className.contains("g-col")&&colHead.className.contains("editable")&&this.parent.eMain.className.contains("editable")){var Type=this.parent.getColType(colHead);switch(Type.type){case"enum":var value=crrCell.innerHTML;crrCell.setHTML("").appendChild(Type.eEnum);Type.eEnum.query(":select").setValue(value).trigger("updateValue");crrValue=value;break;case"float":case"currency":eInput=Type.eInput;crrCell.eEditableHolder=(crrCell.eSign||crrCell.query(":small")).remove();var crrSpan=crrCell.eEditableHolder.query(":span");if(crrSpan){crrSpan.remove()}var value=crrCell.eEditableHolder.innerHTML;var reg=RegExp("\\"+jCube.International.thousandSeparator+"","g");value=value.substring(value.lastIndexOf(">")+1).replace(reg,"");var casas=value.contains(jCube.International.decimalSeparator)?value.substring(value.indexOf(jCube.International.decimalSeparator)).length-1:0;eInput.casas=casas;eInput.origValue=value;value=value.toFloat().format(casas).replace(reg,"");if(crrSpan){crrSpan.prependTo(crrCell.eEditableHolder)}crrCell.setHTML("").appendChild(eInput.setValue(value).setClass("float"));window.setTimeout(function(){eInput.setFocus().setSelection()},250);crrValue=eInput.value;break;case"string":default:eInput=Type.eInput;var value=crrCell.innerHTML;eInput.value=value;eInput.origValue=value;crrCell.setHTML("").appendChild(eInput);window.setTimeout(function(){eInput.setFocus().setSelection()},250);crrValue=eInput.value;break}crrCellFocused=crrCell}})}).call(this);this.eColumns.addEvent("onclick",function(e){if(!__allowSort){return this}if(e.target&&(e.target.nodeName=="A"||e.target.parentNode.nodeName=="A"||e.target.parentNode.parentNode.nodeName=="A")){return this}var crrCol=this.parent.eHead.query(":.sort-AZ, .sort-ZA");if(this==crrCol){if(this.className.contains("sort-AZ")){this.addClass("sort-ZA").removeClass("sort-AZ");this.parent.sortColumn(this,true)}else{this.addClass("sort-AZ").removeClass("sort-ZA");this.parent.sortColumn(this,false)}}else{if(crrCol){crrCol.removeClass("sort-AZ").removeClass("sort-ZA")}this.addClass("sort-AZ");this.parent.sortColumn(this,false)}return null});this.eBody.addEvent("onclick",function(e){var crrCell=e.target;if(crrCell.className.contains("g-col")){return }while(crrCell&&crrCell.parentNode&&!(crrCell.parentNode.className||"").contains("g-col")){crrCell=jCube(crrCell).getParent()}if(crrCell&&crrCell.parentNode&&(crrCell.parentNode.className||"").contains("g-col")){crrCell.parentNode.parent.eMain.trigger("onGridCellClick",crrCell,e)}});return this};this.sortColumn=function(col,reverse){var data=[];var holder=this.getColBody(col);var colsI=holder.query("::div.g-col > * small").reverse();var cols=holder.query("::div.g-col > *");var isNum=colsI&&colsI.length==cols.length;cols=isNum?colsI:cols;cols.each(function(){this.__col_grid_value=this.__col_grid_sortValue=this.__col_grid_value||(isNum?parseFloat(this.innerHTML.replace(/\<span\>\&nbsp\;\<\/span\>/g,"")):this.innerHTML.toLowerCase());if(isNum){this.parentNode.remove()}else{this.remove()}});for(var crr,crrCols,crrHolder,i=0,adjCols=this.eBody.query("::.g-col"),len=adjCols.length;i<len;i++){crr=adjCols[i];if(crr!=holder){crrCols=crr.query("::div.g-col > *");crrHolder=crrCols[0].getParent();crrCols.each(function(item,i){this.__col_grid_sortValue=cols[i].__col_grid_sortValue;this.remove()});crrCols=crrCols.sort(function(a,b){if(isNum){return a.__col_grid_sortValue-b.__col_grid_sortValue}else{if(a.__col_grid_sortValue<b.__col_grid_sortValue){return -1}else{if(a.__col_grid_sortValue>b.__col_grid_sortValue){return 1}}}return 0});if(!reverse){crrCols=crrCols.reverse()}crrCols.each(function(){this.__col_grid_sortValue=null;this.appendTo(crrHolder)})}}cols=cols.sort(function(a,b){if(isNum){return a.__col_grid_sortValue-b.__col_grid_sortValue}else{if(a.__col_grid_sortValue<b.__col_grid_sortValue){return -1}else{if(a.__col_grid_sortValue>b.__col_grid_sortValue){return 1}}}return 0});if(!reverse){cols=cols.reverse()}cols.each(function(){this.__col_grid_sortValue=null;if(isNum){this.parentNode.appendTo(holder)}else{this.appendTo(holder)}});return this};this.getColumnIndex=function(col){var index=jCube(col).getNodeIndex();index-=col!=col.getParent().getFirstChild()?1:0;var crr=col.getParent().getPreviousSibling();var childs,i,isFirstNode;while(crr){childs=crr.childNodes;isFirstNode=true;for(i=0;i<childs.length;i++){if(childs[i].nodeType!=3){if((isFirstNode&&childs[i].className.contains("double"))||!isFirstNode){index++}isFirstNode=false}}crr=crr.getPreviousSibling()}return index};this.getColBody=function(col){return this.eBody.query("::.g-col")[this.getColumnIndex(col)]},this.getColsBody=function(col){var index=this.getColumnIndex(col);var length=col.getParent().query("::.g-col:not(div:first-child)").length-1;var crr=this.eBody.query("::.g-col")[index];var eBodyColGroup=[crr];for(var i=0;i<length;i++){crr=crr.getNextSibling();eBodyColGroup.push(crr)}return eBodyColGroup},this.getHeadColumnIndex=function(cell){var index=0;if(!jCube(cell).className.contains("g-col")){cell=cell.getParent(".g-col")}if(cell){index=cell.getNodeIndex()}else{index=-1}return index};this.getColHead=function(cell){var crrCol=this.eHead.query(":.group");var index=this.getHeadColumnIndex(cell);var i=0;while(crrCol){if(crrCol.className.contains("group")){crrCol=crrCol.getFirstChild().className.contains("double")?crrCol.getFirstChild():crrCol.getFirstChild().getNextSibling()}else{if(crrCol.getNextSibling()){crrCol=crrCol.getNextSibling();i++}else{if(crrCol.getParent().getNextSibling()){crrCol=crrCol.getParent().getNextSibling();i++}else{break}}}if(i==index&&!crrCol.className.contains("group")){break}}return crrCol};this.getColType=function(col){var cls=col.className;var Obj={};var Main=this;if(cls.contains("integer")){Obj.type="integer"}else{if(cls.contains("enum")){Obj.type="enum";var combo=cls;var eEnum=col.eEnum;if(!eEnum){eEnum=col.query(":.e-select").removeClass("hidden");var Main=this;eEnum.addEvent("onchange",function(e){Main.eMain.trigger("onCellChange",Main,this.getParent().getParent());Main.removeEditableContent()})}col.eEnum=eEnum;Obj.eEnum=eEnum}else{Obj.type="string";if(cls.contains("currency")){Obj.type="currency"}else{if(cls.contains("float")){Obj.type="float"}}Obj.eInput=jCube(document.createElement("INPUT")).setStyle({}).addEvent("onchange",function(e){Main.eMain.trigger("onCellChange",Main,this.getParent());Main.removeEditableContent()}).addEvent("onblur",function(e){Main.removeEditableContent()}).addEvent("onkeyup",function(e){if(e.key==27){this.value=this.origValue;Main.removeEditableContent()}}).addEvent("onkeyup",function(e){if(e.key==13){Main.removeEditableContent()}})}}return Obj};return this}})(jCube);jCube.UI.Grid.column={};jCube.Include.files["UI.Increaser"];
jCube.UI.Increaser=(function(jCube){jCube.Include("Array.contains");jCube.Include("Event.add");jCube.Include("Event.trigger");jCube.Include("Time.Chronometer");jCube.Include("Function.inherits");var __initialized=false;var __mouseDowned=false;var __keyPressed=false;var __crrInput=null;var __isPressed=false;var __mouseOvered=false;var __keyPressed=false;var __chron=null;var __RepetitionOnFinish=null;return function enclosure(){this.eInput=null;this.init=function(options){var eInput=jCube(options.obj),min=options.min==null?Number.MIN_VALUE:options.min,max=options.max==null?Number.MAX_VALUE:options.max,value=Number(eInput.value)||0,step=Number(options.step||1),img=options.img;this.min=min;this.max=max;this.value=value;this.step=step;this.img=img;this.timeOut=options.timeOut;var Inc=this;this.eInput=jCube(eInput);this.eInput.parent=this;if(options.onChange){this.eInput.addEvent("onChange",options.onChange)}if(options.onIncrease){this.eInput.addEvent("onIncrease",options.onIncrease)}if(options.onDecrease){this.eInput.addEvent("onDecrease",options.onDecrease)}__chron=__chron||(new jCube.Time.Chronometer());__chron.eventFinish=function(){if(__keyPressed){if(__mouseDowned&&__mouseOvered||!__mouseDowned){__RepetitionOnFinish()}__chron.start(50)}};eInput.addEvent("onmouseout",function(e){__mouseOvered=false;this.style.backgroundPosition="right 0"});eInput.addEvent("onmousedown",function(e){var xyPos=__CheckBoundaries(e,this);if(xyPos==1){__mouseDowned=true;this.trigger("onkeydown",38)}else{if(xyPos==2){__mouseDowned=true;this.trigger("onkeydown",40)}else{__mouseDowned=false}}});eInput.addEvent("onmouseup",function(e){__keyPressed=false;this.style.backgroundPosition="right 0px"});eInput.addEvent("onkeydown",function(e,argKey){e=jCube.Event(e);var key=e.key,shift=e.shift,ctrl=e.ctrl,alt=e.alt,value=Number(this.value);key=argKey||key;if(argKey&&!__mouseDowned){}else{if(key==38){if(value<Inc.max){if(argKey==null||__mouseOvered){this.value=Number(value)+Number(Inc.step);this.style.backgroundPosition="right -100px";this.trigger("onIncrease");this.trigger("onChange");this.trigger("onchange");if(!__keyPressed){__chron.start(Inc.timeOut)}}__RepetitionOnFinish=function(){this.trigger("onkeydown",38)};__keyPressed=true}else{__keyPressed=false;this.style.backgroundPosition="right -150px"}this.parent.check()}else{if(key==40){if(value>Inc.min){if(argKey==null||__mouseOvered){this.value=value-Inc.step;this.trigger("onDecrease");this.trigger("onChange");this.trigger("onchange");this.style.backgroundPosition="right -250px";if(!__keyPressed){__chron.start(Inc.timeOut)}}__RepetitionOnFinish=function(){this.trigger("onkeydown",40)};__keyPressed=true}else{__keyPressed=false;this.style.backgroundPosition="right -300px"}this.parent.check()}else{if(key==27){__keyPressed=false}}}}return key});eInput.addEvent("onkeyup",function(e){__keyPressed=false;this.style.backgroundPosition="right 0px"});eInput.addEvent("onmousemove",function(e){var xyPos=__CheckBoundaries(e,this);if(xyPos==1){__mouseOvered=true;this.style.backgroundPosition="right "+(__mouseDowned?"-100px":"-50px")}else{if(xyPos==2){__mouseOvered=true;this.style.backgroundPosition="right "+(__mouseDowned?"-250px":"-200px")}else{__mouseOvered=false}}if(this.onMouseMove){this.onMouseMove(e)}});this.setProperties();return this};this.setProperties=function(){if(this.img){this.eInput.style.backgroundImage="url("+this.img+")";this.eInput.style.backgroundRepeat="no-repeat";this.eInput.style.backgroundPosition="right 0"}};this.check=function(){var value=this.eInput.value;value=Number(value)||parseInt(value)||0;if(value>this.max){value=this.max}else{if(value<this.min){value=this.min}}this.value=this.eInput.value=value;return this};function __CheckBoundaries(e,eInput){e=jCube.Event(e);var W=eInput.offsetWidth,Y=eInput.offsetHeight,x=e.layerX,y=e.layerY,iconW=20;__crrInput=eInput;if(x>W-iconW){if(y>-1&&y<Y/2){return 1}else{if(y>Y/2&&y<Y){return 2}}}return 0}if(!__initialized){__initialized=true;jCube(document.body).addEvent("mouseup",function(){__mouseDowned=false;__keyPressed=false;if(__crrInput){__crrInput.style.backgroundPosition="right 0px"}})}return this}})(jCube);jCube.Include.files["UI.Sortables"];
jCube.UI.Sortables=(function(jCube){jCube.Include("Array.getLast");jCube.Include("Array.shuffle");jCube.Include("Element.getBorderWidth");jCube.Include("Element.getComputedStyle");jCube.Include("Element.getData");jCube.Include("Element.getElementsBySelector");jCube.Include("Element.getNextSibling");jCube.Include("Element.getOffset");jCube.Include("Element.getPreviousSibling");jCube.Include("Element.injectAfter");jCube.Include("Element.injectBefore");jCube.Include("Element.remove");jCube.Include("Element.setDraggable");jCube.Include("Number.add");jCube.Include("Number.ceil");jCube.Include("Number.floor");jCube.Include("Number.multiply");jCube.Include("Transition.moveTo");return(function(options){if(this==window||this==jCube.UI){if(jCube.Debug.displayErrors){throw new Error('jCube.UI.Sortables is a constructor and needs "new" operator!')}return false}var sortable=this;this.sort=function(duration,listener,reverse){duration=duration==null?this.duration:duration;if(!listener){if(jCube.Debug.displayErrors){throw new Error("listener missing!")}return this}var a=[];for(var i=0;i<this.childs.length;i++){a[i]=[listener.call(this.childs[i],i),this.childs[i]]}a=a.sort();if(reverse){a=a.reverse()}this.childs=[];for(var i=0;i<a.length;i++){this.childs[i]=a[i][1]}var newChilds=[];for(var i=0,childs=this.childs;i<childs.length;i++){newChilds[i]=jCube(childs[i])}this.childs=newChilds;for(var i=0,childs=this.childs;i<childs.length;i++){childs[i].remove()}for(var i=0,childs=this.childs;i<childs.length;i++){this.holder.appendChild(childs[i])}this.organize(duration);return this};this.organize=function(duration,ignoreMe){duration=duration==null?this.duration:duration;var positions=[];for(var i=0,l,t,cols=this.cols,W=this.W,w=this.w,h=this.h;i<this.childs.length;i++){positions[i]=[(i*w)%W,(i/cols).floor()*h]}this.update();if(duration==0){for(var i=0,childs=this.childs;i<childs.length;i++){childs[i].style.left=positions[i][0]+"px";childs[i].style.top=positions[i][1]+"px"}}else{for(var i=0,childs=this.childs;i<childs.length;i++){if(childs[i]!=ignoreMe){childs[i].moveTo(positions[i][0],positions[i][1],duration+this.incrementDuration*i,this.transition)}}}return this};this.update=function(){this.childs=[];for(var i=0,childs=this.holder.childNodes;i<childs.length;i++){if(childs[i].nodeType==1){this.childs.push(jCube(childs[i]))}}for(var i=0,n=null,childs=this.childs;i<childs.length;i++){childs[i].childIndex=i;childs[i].parent=this;if(!childs[i].getData("draggable")){childs[i].setDraggable({delay:this.delay,onStart:onDragCardStart,onDrag:onDragCard,onComplete:onDragCardEnd})}}this.reset();return this};this.reset=function(){for(var i=0,childs=this.childs;i<childs.length;i++){childs[i].childIndex=i;childs[i].parent=this;childs[i].setDraggable({delay:this.delay,onStart:onDragCardStart,onDrag:onDragCard,onComplete:onDragCardEnd})}return this};this.shuffle=function(duration){this.childs=this.childs.shuffle();var newChilds=[];for(var i=0,childs=this.childs;i<childs.length;i++){newChilds[i]=jCube(childs[i])}this.childs=newChilds;for(var i=0,childs=this.childs;i<childs.length;i++){childs[i].remove()}for(var i=0,childs=this.childs;i<childs.length;i++){this.holder.appendChild(childs[i])}this.organize(duration);return this};var onDragCardStart=function(e,px,py){this.from={l:this.offsetLeft,t:this.offsetTop,W:sortable.W,w:sortable.w,h:sortable.h,w2:sortable.w/2,h2:sortable.h/2,cols:sortable.cols,rows:(sortable.childs.length/sortable.cols).ceil()};if(sortable.onDragStart||sortable.onStart){(sortable.onDragStart||sortable.onStart).call(this,e,px,py)}};var onDragCard=function(e,px,py,includeThisOnMotion){if(!includeThisOnMotion&&(sortable.motionType==sortable.MOTION_REPLACE)){if(sortable.onDrag){sortable.onDrag.call(this,e,px,py)}return null}if(!this.from){return null}var _childIndex=this.childIndex,from=this.from,W=from.W,w=from.w,h=from.h,cols=from.cols,rows=from.rows+1,bounds=[this.offsetLeft,this.offsetTop],dest={x:(Math.max(Math.min(bounds[0].add(from.w2),w*(cols-1)),0)/w).floor().multiply(w),y:(Math.max(Math.min(bounds[1].add(from.h2),h*(rows-2)),0)/h).floor().multiply(h)},organizeMotionList=null;this.rowIndex=dest.y/h;this.colIndex=dest.x/w;this.childIndex=(this.rowIndex)*(cols)+this.colIndex;if(sortable.motionType==sortable.MOTION_LIST){organizeMotionList=function(){for(var i=0,empty=null,full=null,childs=sortable.childs;i<childs.length;i+=2){if(childs[i].className=="empty"){empty=empty||childs[i];full=null}else{if(empty){full=childs[i]}}if(empty&&full){empty.exchangeWith(full);full=null}}for(var i=1,empty=null,full=null,childs=sortable.childs;i<childs.length;i+=2){if(childs[i].className=="empty"){empty=empty||childs[i];full=null}else{if(empty){full=childs[i]}}if(empty&&full){empty.exchangeWith(full);full=null}}sortable.organize()}}var eReplace=null;if(_childIndex>this.childIndex){this.injectBefore(sortable.childs[this.childIndex]||sortable.childs[0]);if(sortable.motionType==sortable.MOTION_STATIC){}else{if(sortable.motionType==sortable.MOTION_REPLACE){var i=(_childIndex-this.childIndex)-1,x=dest.x+(w*(i+1)),crr=this.getNextSibling();crr.moveTo((x%W),dest.y+(h*(x/W).floor()),sortable.duration,sortable.transition);crr.injectAfter(sortable.childs[_childIndex-1]);eReplace=crr}else{if(sortable.motionType==sortable.MOTION_FORWARD){for(var i=0,x,crr=this;i<_childIndex-this.childIndex;i++){crr=crr.getNextSibling();x=dest.x+(w*(i+1));crr.moveTo((x%W),dest.y+(h*(x/W).floor()),sortable.duration+(i*sortable.incrementDuration),sortable.transition)}}else{if(sortable.motionType==sortable.MOTION_LIST){var i=(_childIndex-this.childIndex)-1,x=dest.x+(w*(i+1)),crr=this.getNextSibling();var hasChanges=false;if(Math.abs(this.childIndex%2-_childIndex%2)>0){for(var i=_childIndex,childs;i<sortable.childs.length;i+=2){childs=[];for(j=0,nodes=sortable.childs[0].parentNode.childNodes;j<nodes.length;j++){if(nodes[j].nodeType==1){childs.push(nodes[j])}}if(childs[i+2]){childs[i+2].injectBefore(childs[i]);hasChanges=true}}}else{crr.moveTo((x%W),dest.y+(h*(x/W).floor()),sortable.duration,sortable.transition)}crr.injectAfter(sortable.childs[_childIndex-1]);eReplace=crr;if(hasChanges){sortable.organize(null,sortable.childs[_childIndex])}}}}}sortable.update()}else{if(_childIndex<this.childIndex){this.injectAfter(sortable.childs[this.childIndex]||sortable.childs.getLast());if(sortable.motionType==sortable.MOTION_STATIC){}else{if(sortable.motionType==sortable.MOTION_REPLACE){var i=(this.childIndex-_childIndex)-1,x=dest.x-(w*(i+1)),crr=this.getPreviousSibling();if(crr){crr.moveTo((W-((W-x)%W))%W,dest.y+(h*(x/W).floor()),sortable.duration,sortable.transition);crr.injectBefore(sortable.childs[_childIndex+1])}eReplace=crr}else{if(sortable.motionType==sortable.MOTION_FORWARD){for(var i=0,x,y,crr=this;i<this.childIndex-_childIndex;i++){crr=crr.getPreviousSibling();x=dest.x-(w*(i+1));if(crr){crr.moveTo((W-((W-x)%W))%W,dest.y+(h*(x/W).floor()),sortable.duration+(i*sortable.incrementDuration),sortable.transition)}}}else{if(sortable.motionType==sortable.MOTION_LIST){var i=(this.childIndex-_childIndex)-1,x=dest.x-(w*(i+1)),crr=this.getPreviousSibling();var hasChanges=false;if(Math.abs(this.childIndex%2-_childIndex%2)>0){for(var i=_childIndex,childs;i<sortable.childs.length;i+=2){childs=[];for(j=0,nodes=sortable.childs[0].parentNode.childNodes;j<nodes.length;j++){if(nodes[j].nodeType==1){childs.push(nodes[j])}}if(childs[i+2]){childs[i+2].injectBefore(childs[i]);hasChanges=true}else{if(childs[i+1]){childs[i+1].injectBefore(childs[i])}}}}else{crr.moveTo((W-((W-x)%W))%W,dest.y+(h*(x/W).floor()),sortable.duration,sortable.transition)}crr.injectBefore(sortable.childs[_childIndex+1]);eReplace=crr;if(hasChanges){sortable.organize(null,sortable.childs[_childIndex])}}}}}sortable.update()}}if(includeThisOnMotion){var mainElement=this;this.moveTo({left:dest.x,top:dest.y,duration:sortable.duration,transition:sortable.transition,onComplete:function(){if(sortable.onCompleteSortableDragFinish){sortable.onCompleteSortableDragFinish.call(mainElement,e,px,py,eReplace||this)}mainElement.trigger("onCompleteSortableDragFinish",e,px,py,eReplace||mainElement)}});if(sortable.motionType==sortable.MOTION_LIST){organizeMotionList()}if(sortable.onDragComplete||sortable.onComplete){(sortable.onDragComplete||sortable.onComplete).call(this,e,px,py,eReplace||this)}}else{if(sortable.onDrag){sortable.onDrag.call(this,e,px,py)}}return null};var onDragCardEnd=function(e,px,py){onDragCard.call(this,e,px,py,true)};this.merge(jCube.UI.Sortables).merge(options);this.holder=jCube(options.holder);this.childs=[];this.update();var totalWidths=0,totalHeights=0;for(var i=0,bw;i<this.childs.length;i++){bw=this.childs[i].getBorderWidth();totalWidths+=this.childs[i].offsetWidth-bw[0]-bw[2];totalHeights+=this.childs[i].offsetHeight-bw[1]-bw[3];this.childs[i].unselectable="on"}this.W=options.W||(this.holder.offsetWidth-(this.holder.getComputedStyle("borderLeftWidth").toInteger()+this.holder.getComputedStyle("borderRightWidth").toInteger()));this.w=options.w||Math.round(totalWidths/this.childs.length);this.h=options.h||Math.round(totalHeights/this.childs.length);this.cols=options.cols||Math.round(this.W/this.w);this.duration=options.duration||450;this.incrementDuration=options.incrementDuration||100;this.motionType=options.motionType||this.MOTION_REPLACE;this.delay=options.delay||0;return this}).merge({MOTION_STATIC:"static",MOTION_REPLACE:"replace",MOTION_FORWARD:"forward",MOTION_LIST:"list"})})(jCube);jCube.Include.files["UI.SplitPane"];
jCube.UI.SplitPane=(function(jCube){jCube.Include("Element.addClass");jCube.Include("Element.appendTo");jCube.Include("Element.getFirstChild");jCube.Include("Element.getNextSibling");jCube.Include("Element.remove");jCube.Include("Element.setStyle");jCube.Include("Event");jCube.Include("Event.add");jCube.Include("Event.trigger");jCube.Include("Function.inherits");jCube.Include("Number.floor");jCube.Include("Math.between");jCube.Include("String.contains");jCube.Include("String.toInteger");jCube.Include("Window");var firstTime=true;var glassPane;var __knob_onmousedown=function(e){e=jCube.Event(e);var SP=this.splitPane;var splitPane=SP.splitPane;if(SP.orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){var leftPane=this.leftPane;var rightPane=this.rightPane;glassPane.x=e.screenX;glassPane.leftW=leftPane.offsetWidth;glassPane.oLeftStyle=leftPane.style;glassPane.oRightStyle=rightPane.style;glassPane.splitPane=SP;glassPane.knobW=this.style.width.toInteger(this.offsetWidth);glassPane.minLWidth=leftPane.minWidth;glassPane.minRWidth=rightPane.minWidth;glassPane.maxLWidth=leftPane.maxWidth;glassPane.maxRWidth=rightPane.maxWidth;glassPane.fullWidth=splitPane.style.width.contains("px")?splitPane.style.width.toInteger():splitPane.clientWidth;glassPane.leftPane=leftPane;glassPane.rightPane=rightPane;glassPane.knob=this;glassPane.orientation=jCube.UI.SplitPane.HORIZONTAL_SPLIT}else{var topPane=this.leftPane;var bottomPane=this.rightPane;glassPane.y=e.screenY;glassPane.topH=topPane.clientHeight;glassPane.oTopStyle=topPane.style;glassPane.oBottomStyle=bottomPane.style;glassPane.splitPane=SP;glassPane.minTHeight=Number(topPane.getAttribute("minheight"))||1;glassPane.minBHeight=Number(bottomPane.getAttribute("minheight"))||1;glassPane.fullHeight=splitPane.offsetHeight;glassPane.topPane=topPane;glassPane.bottomPane=bottomPane;glassPane.knob=this;glassPane.orientation=jCube.UI.SplitPane.VERTICAL_SPLIT}glassPane.onResize=SP.onResize;jCube(glassPane).setStyle("top",window.getScrollTop()).setStyle("left",window.getScrollLeft()).setStyle("width",window.getWidth()-20).setStyle("height",window.getHeight()-20).setStyle("cursor",(SP.orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT?"e-resize":"n-resize")).appendTo(document.body)};var __glassPane_onmousemove=function(e,dividerLocation,position){if(this.orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){var paneLeftW,x;var SP=this.splitPane;var splitPane=SP.splitPane;if(dividerLocation!=null){if(position=="relative"){paneLeftW=(splitPane.clientWidth)*dividerLocation-this.knob.offsetWidth/2;SP.dividerRelativePositionX=dividerLocation}else{paneLeftW=dividerLocation;SP.dividerRelativePositionX=null}paneLeftW=Number(paneLeftW).floor()}else{x=(e||event).screenX-this.x;SP.lastLeftWidth=paneLeftW=this.leftW+x}if(paneLeftW<this.minLWidth){paneLeftW=this.minLWidth}else{if(this.maxLWidth&&paneLeftW>this.maxLWidth){paneLeftW=this.maxLWidth}}var paneRightW=this.fullWidth-paneLeftW;if(paneRightW<this.minRWidth){paneLeftW=(paneLeftW-(this.minRWidth-paneRightW)).floor()}paneRightW=this.fullWidth-paneLeftW-this.knob.offsetWidth;paneLeftW=Math.between(0,paneLeftW,this.fullWidth-this.knobW);paneRightW=Math.between(0,paneRightW,this.fullWidth-this.knobW);this.oLeftStyle.width=paneLeftW+"px";this.oRightStyle.width=paneRightW+"px";if(SP.leftPane.onResize){SP.leftPane.onResize(paneLeftW)}if(SP.rightPane.onResize){SP.rightPane.onResize(paneRightW)}if(SP.onResize){SP.onResize(paneLeftW,paneLeftW)}this.leftPane.trigger("onSplitPaneLeftResize",paneLeftW);this.rightPane.trigger("onSplitPaneRightResize",paneRightW);splitPane.trigger("onSplitPaneResize",paneLeftW)}else{if(this.orientation==jCube.UI.SplitPane.VERTICAL_SPLIT){var paneTopH,y;if(dividerLocation!=null){if(position=="relative"&&dividerLocation<=1){paneTopH=splitPane.clientHeight*dividerLocation-this.knob.clientHeight/2;SP.dividerRelativePositionY=dividerLocation}else{paneTopH=dividerLocation;SP.dividerRelativePositionY=null}paneTopH=paneTopH.floor()}else{y=(e||event).screenY-this.y;SP.lastTopHeight=paneTopH=this.topH+y}if(paneTopH<this.minTHeight){paneTopH=this.minTHeight}var paneBottomH=this.fullHeight-paneTopH;if(paneBottomH<this.minBHeight){paneTopH=(paneTopH-(this.minBHeight-paneBottomH)).floor()}paneBottomH=this.fullHeight-paneTopH-paneTopH;this.oTopStyle.height=paneTopH+"px";this.topPane.onResize(paneTopH);this.bottomPane.onResize(paneBottomH);SP.onResize(paneTopH,paneBottomH)}}};var __global_onmouseup=function(e){try{var sp=glassPane.splitPane;if(glassPane.parentNode==document.body){if(sp.onResizeEnd){sp.onResizeEnd.call(sp)}}glassPane.remove()}catch(e){if(jCube.Debug.displayErrors){throw new Error('Erro ao atribuir a propriedade "display" ao objeto "glassPane"!\n'+e)}}};return jCube.Object.merge.call(function(options){this.init=function(options){var orientation=options.orientation,splitPane=jCube(options.splitPane);var leftPane,rightPane,knob;orientation=orientation||(splitPane?splitPane.orientation||jCube.UI.SplitPane.HORIZONTAL_SPLIT:jCube.UI.SplitPane.HORIZONTAL_SPLIT);var onTheFly=splitPane!=null;if(!onTheFly){var tmpDiv=document.createElement("DIV");if(orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){tmpDiv.innerHTML="<div ><div></div><div></div><div></div></div>"}else{alert("ainda não fiz")}splitPane=tmpDiv.firstChild}jCube(splitPane);if(orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){leftPane=splitPane.getFirstChild();knob=leftPane.getNextSibling();rightPane=knob.getNextSibling()}else{alert("vertical 2")}jCube(splitPane);jCube(leftPane);jCube(rightPane);this.SplitPane=this;this.leftPane=leftPane;this.knob=knob;this.rightPane=rightPane;this.topPane=this.leftPane;this.bottomPane=this.rightPane;this.leftPane.splitPane=this;this.rightPane.splitPane=this;this.knob.splitPane=this;this.knob.leftPane=this.leftPane;this.knob.rightPane=this.rightPane;this.orientation=orientation;this.leftPane.minWidth=this.leftPane.minWidth||1;this.leftPane.minHeight=this.leftPane.minHeight||1;this.leftPane.maxWidth=this.leftPane.maxWidth||0;this.leftPane.maxHeight=this.leftPane.maxHeight||0;this.rightPane.minWidth=this.rightPane.minWidth||1;this.rightPane.minHeight=this.rightPane.minHeight||1;this.rightPane.maxWidth=this.rightPane.maxWidth||0;this.rightPane.maxHeight=this.rightPane.maxHeight||0;if(orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){leftPane.vAlign="top";rightPane.vAlign="top"}else{alert("Not fully implemented yet!");return null;leftPane.vAlign="top";rightPane.vAlign="top"}this.splitPane=splitPane;this.splitPane.addClass("SplitPane-"+this.orientation);this.leftPane.addClass("left-pane");this.knob.addClass("knob-pane");this.rightPane.addClass("right-pane");this.onResize=options.onResize;this.rightPane.onResize=options.onLeftPaneResize;this.leftPane.onResize=options.onRightPaneResize;this.knob.onmousedown=__knob_onmousedown;if(firstTime){glassPane=document.createElement("DIV");jCube(glassPane).setStyle({position:"absolute",background:"#FFF",opacity:0,zIndex:1000,mozUserSelect:"none",mozUserFocus:"none"});firstTime=false;glassPane.onmousemove=__glassPane_onmousemove;jCube(document.body).addEvent("mouseup",__global_onmouseup)}if(onTheFly){if(this.orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){this.leftPane.style.width="50%"}else{this.topPane.style.height="50%"}}return this};this.appendChild=this.addComponent=function(component,position){if(position=="left"||position=="top"||position==null){this.addLeftComponent(component)}else{this.addRightComponent(component)}return component};this.appendChild=this.addComponent;this.addLeftComponent=function(component){this.leftPane.appendChild(component);return component};this.addTopComponent=function(component){this.topPane.appendChild(component);return component};this.addRightComponent=function(component){this.rightPane.appendChild(component);return this};this.addBottomComponent=function(component){this.bottomPane.appendChild(component);return this};this.setDividerLocation=function(dividerLocation,position){this.knob.onmousedown();glassPane.onmousemove(null,dividerLocation,position);glassPane.remove();return this};this.setWidth=function(s){var minLeft=this.leftPane.minWidth;var minRight=this.rightPane.minWidth;if(s<minLeft+minRight){s=minLeft+minRight}this.splitPane.style.width=s+"px";this.setDividerLocation(this.dividerRelativePositionX||this.lastLeftWidth||s.toInteger()/2);return this};this.setHeight=function(s){var minTop=this.topPane.minHeight;var minBottom=this.bottomPane.minHeight;if(s<minTop+minBottom){s=minTop+minBottom}this.splitPane.style.height=s+"px";this.setDividerLocation(this.dividerRelativePositionY||this.lastLeftHeight||s.toInteger()/2);return this};this.setLeftMinimumWidth=function(min){this.leftPane.minWidth=min;return this};this.setRightMinimumWidth=function(min){this.rightPane.minWidth=min;return this};this.setTopMinimumHeight=function(min){this.topPane.minHeight=min;return this};this.setBottomMinimumHeight=function(min){this.bottomPane.minHeight=min;return this};this.getLeftMinimumWidth=function(){return this.leftPane.minWidth};this.getRightMinimumWidth=function(){return this.rightPane.minWidth};this.getTopMinimumHeight=function(){return this.topPane.minHeight};this.getBottomMinimumHeight=function(){return this.bottomPane.minHeight};this.update=function(flush){this.knob.onmousedown();if(this.orientation==jCube.UI.SplitPane.HORIZONTAL_SPLIT){glassPane.onmousemove(null,(splitPane.dividerRelativePositionX?splitPane.dividerRelativePositionX:this.leftPane.style.width.toInteger(this.leftPane.offsetWidth)),(splitPane.dividerRelativePositionX?"relative":"absolute"))}else{glassPane.onmousemove(null,(splitPane.dividerRelativePositionY?splitPane.dividerRelativePositionY:this.topPane.style.height.toInteger(this.topPane.offsetHeight)),(splitPane.dividerRelativePositionY?"relative":"absolute"))}glassPane.remove()};return this},{HORIZONTAL_SPLIT:"horizontal",VERTICAL_SPLIT:"vertical"})})(jCube);jCube.Include.files["UI.Switch"];
jCube.UI.Switch=(function(jCube){jCube.Include("Element.getComputedStyle");jCube.Include("Element.getElementsBySelector");jCube.Include("Element.getFirstChild");jCube.Include("Element.setDraggable");jCube.Include("Element.setStyle");jCube.Include("Event.add");jCube.Include("Event.trigger");jCube.Include("String.contains");jCube.Include("String.toInteger");jCube.Include("Transition.moveTo");return jCube.Object.merge.call(function(options){this.init=function(options){var obj=options.container;if(!obj){obj=document.createElement("DIV");obj.innerHTML='<div class="Switch" ><div class="overflow" ><div class="on" ></div><div class="knob" ><input type="checkbox" /></div><div class="off" ></div></div></div>';obj=obj.firstChild}obj=jCube(obj);this.eOn=obj.query(":.on");this.eOff=obj.query(":.off");this.eKnob=obj.query(":.knob");this.eCheck=obj.query(":.knob input");this.eOn.parent=this;this.eOff.parent=this;this.eKnob.parent=this;if(this.eCheck){this.eCheck.parent=this}this.duration=options.duration||600;this.transition=options.transition||jCube.Transition.DEFAULT;for(var i=0,objs=[obj,obj.getFirstChild(),this.eOn,this.eOff,this.eKnob],classes=["Switch","overflow","on","off","knob"];i<objs.length;i++){objs[i].addClass(classes[i])}options.offsetX=options.offsetX?options.offsetX:5;options.maxLeft=options.maxLeft==null?0:options.maxLeft;options.maxRight=options.maxRight==null?(this.eOn.getComputedStyle("width").toInteger(this.eOn.offsetWidth)||50)-options.offsetX:options.maxRight;this.eKnob.setDraggable({bounds:[0,options.maxRight,0,0],onStart:function(){if(obj.className.contains("disabled")){document.onmousemove=null;return }this.trigger("onMoveStart")},onDrag:function(e){this.trigger("onMove")},onComplete:function(e){if(obj.className.contains("disabled")){document.onmousemove=null;return }if(this.offsetLeft>(this.parent.eOn.offsetWidth/2-options.offsetX)){this.parent.eOff.onclick()}else{this.parent.eOn.onclick()}}});var currCheckState=null;this.eKnob.addEvent("onMoveStart",function(){this.parent.eOn.setStyle("margin-left",this.offsetLeft-(this.parent.eOn.offsetWidth-options.offsetX));if(this.parent.onStart){this.parent.onStart.call(this)}});this.eKnob.addEvent("onMove",function(){this.parent.eOn.setStyle("margin-left",this.offsetLeft-(this.parent.eOn.offsetWidth-options.offsetX));if(this.parent.onMove){this.parent.onMove.call(this)}});this.eKnob.addEvent("onMoveComplete",function(){if(obj.className.contains("disabled")){return }this.parent.eOn.setStyle("margin-left",this.offsetLeft-(this.parent.eOn.offsetWidth-options.offsetX));if(this.parent.eCheck){if(this.parent.eCheck&&currCheckState!=this.parent.eCheck.checked){this.parent.eCheck.trigger("onchange");currCheckState=this.parent.eCheck.checked}if(this.parent.eCheck.onchange){this.parent.eCheck.onchange()}else{if(this.parent.eCheck.onChange){this.parent.eCheck.onChange()}}if(this.parent.onSwitchChange){this.parent.onSwitchChange(this.parent.eCheck.checked)}}if(this.parent.onComplete){this.parent.onComplete.call(this)}});this.eOn.onclick=function(e,trans,force){if(obj.className.contains("disabled")&&!force){return }trans=trans||{};trans.duration=trans.duration!=null?trans.duration:this.duration;trans.transition=trans.transition!=null?trans.transition:this.transition;trans.delay=trans.delay!=null?trans.delay:0;trans.left=0;this.parent.eKnob.moveTo(trans);if(this.parent.eCheck){this.parent.eCheck.checked=false}};this.eOff.onclick=function(e,trans,force){if(obj.className.contains("disabled")&&!force){return }trans=trans||{};trans.duration=trans.duration!=null?trans.duration:this.duration;trans.transition=trans.transition!=null?trans.transition:this.transition;trans.delay=trans.delay!=null?trans.delay:0;trans.left=options.maxRight;this.parent.eKnob.moveTo(trans);if(this.parent.eCheck){this.parent.eCheck.checked=true}};obj.setData("UI.Switch",this);this.setActive((currCheckState=this.eCheck.checked),{duration:0});return this};this.setActive=function(b,trans){if(b){this.eOff.onclick(null,trans,true)}else{this.eOn.onclick(null,trans,true)}return this};this.update=function(){this.setActive(this.eCheck.checked);return this};function Parse(value){}return this},{VERTICAL_ORIENTATION:"vertical",HORIZONTAL_ORIENTATION:"horizontal"})})(jCube);jCube.Include.files["UI.TabbedPane"];
jCube.UI.TabbedPane=(function(jCube){jCube.Include("Array.each");jCube.Include("Element.addClass");jCube.Include("Element.getData");jCube.Include("Element.getElementsBySelector");jCube.Include("Element.getNodeIndex");jCube.Include("Element.getPreviousSibling");jCube.Include("Element.removeClass");jCube.Include("Element.setData");jCube.Include("Event.trigger");jCube.Include("Function.inherits");return jCube.Object.merge.call(function(){this.tabs=[];this.init=function(options){options=options||{};var crrTab=null;var crrCard=null;var eBody=null;var eHeader=null;var tabbedPane=this;var container=jCube(options.container);var firstTabOpen=false;if(!container){container=document.createElement("DIV");container.innerHTML='<div class="TabbedPane" ><div class="header" ><div class="tab over" ><div>&nbsp;</div></div></div><div class="body" ><div class="card over" ></div><div class="card" >&nbsp;</div></div></div>';container=jCube(container.firstChild)}crrTab=container.query("::.TabbedPane > .header > .tab")[0];crrCard=container.query("::.TabbedPane > .body > .card")[0];this.container=container;container.query("::.TabbedPane > .header > .tab").each(function(){tabbedPane.tabs.push(this);this.openTab=function(){firstTabOpen=true;crrTab.removeClass("over");this.addClass("over");var index=this.getNodeIndex();crrCard.removeClass("over");crrCard=container.query("::.TabbedPane > .body > .card")[index];crrCard.addClass("over");if(tabbedPane.onClose){tabbedPane.onClose(container,this,crrCard,index)}container.trigger("onTabbedPaneClose",this,crrCard,index);crrTab=this;if(tabbedPane.onOpen){tabbedPane.onOpen(container,this,crrCard,index)}container.trigger("onTabbedPaneOpen",this,crrCard,index);return this};this.query("div").tabIndex=0;this.onclick=this.openTab});container.setData("UI.TabbedPane",this);if(options.onInitialization){options.onInitialization.call(this)}container.trigger("onTabbedPaneInitialization",this);if(!firstTabOpen){this.openTab(0)}return this};this.openTab=function(index){if(typeof index!="number"){throw new Error("Passed argument is not an integer!")}index=Math.min(this.container.query("::.TabbedPane > .header > .tab").length-1,index);this.container.query("::.TabbedPane > .header > .tab")[index].openTab();return this};this.addTab=function(tab){if(!tab){tab=this.tabs[0].cloneNode()}return this};return this},{})})(jCube);jCube.Include.files.Window;
window.getWidth=function(){if(jCube.Browser.opera){return Math.max(document.documentElement.clientWidth,Math.max(document.documentElement.offsetWidth,window.innerWidth))}else{if(jCube.Browser.safari||jCube.Browser.chrome){return document.documentElement.clientWidth}else{if(jCube.Browser.msie){return(jCube.Browser.version>=8?document.documentElement.clientWidth:Math.max(document.documentElement.clientWidth,document.documentElement.offsetWidth))}else{if(jCube.Browser.mozilla&&jCube.Browser.version>=3){return document.documentElement.clientWidth}else{if(window.innerWidth){return window.innerWidth}}}}}return document.documentElement.clientWidth||document.body.clientWidth};window.getHeight=function(){if(jCube.Browser.opera){return Math.max(document.documentElement.clientHeight,Math.max(document.documentElement.offsetHeight,window.innerHeight))}else{if(jCube.Browser.safari||jCube.Browser.chrome){return document.documentElement.clientHeight}else{if(jCube.Browser.msie){return(jCube.Browser.version>=8?document.documentElement.clientHeight:Math.max(document.documentElement.clientHeight,document.documentElement.offsetHeight))}else{if(jCube.Browser.mozilla&&jCube.Browser.version>=3){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}else{if(window.innerHeight){return window.innerHeight}}}}}return document.documentElement.clientHeight||document.body.clientHeight};window.getScrollWidth=function(){return Math.max(document.body.clientWidth,Math.max(document.body.offsetWidth,Math.max(document.body.scrollWidth,Math.max(document.documentElement.clientWidth,Math.max(document.documentElement.offsetWidth,document.documentElement.scrollWidth)))))};window.getScrollHeight=function(){return Math.max(document.body.clientHeight,Math.max(document.body.offsetHeight,Math.max(document.body.scrollHeight,Math.max(document.documentElement.clientHeight,Math.max(document.documentElement.offsetHeight,document.documentElement.scrollHeight)))))};window.getScrollLeft=function(){return this.pageXOffset||document.documentElement.scrollLeft};window.getScrollTop=function(){return this.pageYOffset||document.documentElement.scrollTop};jCube.Include.files["Window.DOMReady"];
jCube.Window.DOMReady=(function(jCube){jCube.Include("Array.each");var DOMReady={isDOMReady:false,add:function(fn){jCube.Window.DOMEvents.push(fn);return this},onDOMReady:function(){if(jCube.Include.asyncFiles.length>0){DOMReady.awaitingFiles=true;return null}DOMReady.awaitingFiles=false;DOMReady.isDOMReady=true;if(jCube.Window.DOMEvents){jCube.Array.each.call(jCube.Window.DOMEvents,function(){this.apply(document,[jCube])});jCube.Window.DOMEvents=[]}return null}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);DOMReady.onDOMReady()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);DOMReady.onDOMReady()}});if(document.documentElement.doScroll&&window==window.top){(function(){if(DOMReady.isDOMReady){return }try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return }DOMReady.onDOMReady()})()}}}if(window.addEventListener){window.addEventListener("load",DOMReady.onDOMReady,true)}else{window.attachEvent("onload",DOMReady.onDOMReady)}return DOMReady})(jCube);